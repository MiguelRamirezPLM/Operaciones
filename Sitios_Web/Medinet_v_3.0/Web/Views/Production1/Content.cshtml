@model IEnumerable<plm_spGetProductsToEditByDivisionMedinet3>
@using Web.Models;
@{
    ViewBag.Title = "Producción ";
    SessionCountryByDivision _Session = (SessionCountryByDivision)Session["SessionCountryByDivision"];
    Medinet db = new Medinet();
    PLMUsers plm = new PLMUsers();

    CountriesUsers _CountriesUsersSales = (CountriesUsers)Session["CountriesUsers"];
    int iduser = _CountriesUsersSales.userId;
    int AppId = _CountriesUsersSales.ApplicationId;
    string HasKey = null;

    var Hkey = (from _A in plm.Applications
                where _A.ApplicationId == _CountriesUsersSales.ApplicationId
                select _A).ToList();

    foreach (var _item in Hkey)
    {
        HasKey = _item.HashKey;
    }

    var RoleIdU = (from _R in plm.ApplicationUsers
                   where _R.ApplicationId == _CountriesUsersSales.ApplicationId
                          && _R.UserId == _CountriesUsersSales.userId
                   select _R).ToList();
    //foreach (var _row in RoleIdU)
    //{
    //    if (_row.RoleId == 5)
    //    {
    //        ViewData["Pagination"] = null;
    //        ViewData["Medicos"] = null;
    //        ViewData["Producción"] = null;
    //        ViewData["Inicio"] = null;
    //    }
    //    else
    //    {
    //        ViewData["Pagination"] = "True";
    //        ViewData["Medicos"] = "True";
    //        ViewData["Producción"] = "True";
    //        ViewData["Inicio"] = "True";
    //    }
    //}
    ViewData["Ventas"] = "True";
    ViewData["Pagination"] = "True";
    ViewData["Medicos"] = "True";
    ViewData["Producción"] = "True";
    ViewData["Inicio"] = "True";

    var ct_co = db.ContentTypes.Where(x => x.ContentType == "CON CAMBIO ORTOGRÁFICO" && x.Active == true).ToList();
    var ct_cf = db.ContentTypes.Where(x => x.ContentType == "CON CAMBIO DE FONDO" && x.Active == true).ToList();

    int DivisionId, EditionId, BookId, CountryId;
    if (_Session != null)
    {
        DivisionId = _Session.DivisionId;
        EditionId = _Session.EditionId;
        BookId = _Session.BookId;
        CountryId = _Session.CountryId;
    }
    else
    {
        DivisionId = 0;
        EditionId = 0;
        BookId = 0;
        CountryId = 0;
    }
}
<link href="~/Content/bootstrap-fileinput/css/fileinput.min.css" rel="stylesheet" />
<script src="~/Scripts/fileinput.min.js"></script>
<script src="~/Content/bootstrap-fileinput/themes/fa/theme.js"></script>

@*Edicion que participa un produto*@
@*Obtains the editions in which the selected product was participating and shows them in a table*@
<script>
    function _getParticipant(item) {
        $('html').css('overflow', 'hidden');
        var tr = $(item).parents("tr:first");
        var _vlproductId = tr.find("#_productId").val();
        var _vlpharmaformId = tr.find("#_pharmaFormId").val();
        var _vlcategoryId = tr.find("#_categoryId").val();
        var _vldivisionid = tr.find("#_divisionId").val();
        var _vlproductName = tr.find("#_productName").text();
        var _vlpharmaceuticalForm = tr.find("#_pharmaceuticalForm").text();
        var _vlcategoryName = tr.find("#_categoryName").text();
        $("#_wlproductName").empty();
        $("#_wlproductName").append(_vlproductName);
        $("#_wlpharmaceuticalForm").empty();
        $("#_wlpharmaceuticalForm").append(_vlpharmaceuticalForm);
        $("#_wlcategoryName").empty();
        $("#_wlcategoryName").append(_vlcategoryName);
        $("#_elementTable tbody").empty();
        $.ajax({
            type: "POST",
            dataType: "json",
            url: "@Url.Content("~/Sales/getParticipantProducts")",
            traditional: true,
            data: {
                ProductId: _vlproductId,
                PharmaFormId: _vlpharmaformId,
                Categoryid: _vlcategoryId,
                DivisionId: _vldivisionid
            },
            success: function (data) {
                $.each(data, function (index, item) {
                    if (item.LongCount >= 13) {
                        $("#_dvparticipant").addClass("heightdivp");
                    }
                    else {
                        $("#_dvparticipant").removeClass("heightdivp");
                    }
                    $("#_elementTable tbody").append(
                        "<tr>"
                        + "<td>" + item.ShortName + "</td>"
                        + "<td>" + item.NumberEdition + "</td>"
                        + "<td>" + item.TypeName + "</td>"
                        + "<td>" + item.ISBN + "</td>"
                        + "<td>" + item.ParentName + "<span style='padding-left:5px;'>" + item.NumberEditionParent + "</span>" + "</td>"
                        + "</tr>"
                        );
                });
            }
        });
    }
</script>
<script>
    function _closeParticipant(item) {
        $("._modalParticipant").modal('hide');
        $('html').css('overflow', 'auto');
    }
</script>

@*Producto nuevo*@
@*Saves changes when a product is new and when it is not*@
<script>
    function _new(item) {
        var tr = $(item).parents("tr:first");
        var _vlproductId = tr.find("#_productId").val();
        var _vlpharmaformId = tr.find("#_pharmaFormId").val();
        var _vlcategoryId = tr.find("#_categoryId").val();
        var _divisionid = $("#_divisionId").val();
        var _editionid = $("#_editionId").val();
        var _UserID = $("#_iduser").val();
        var _HasKey = $("#_haskey").val();

        if (tr.find("#_new").is(":checked")) {
            tr.find("#_changes").prop("checked", false);
            tr.find("#_btnChanges").addClass("hide");
            tr.find("#_chargeOrthographic").prop("checked", false);
            $.ajax({
                type: "POST",
                dataType: "Json",
                url: "@Url.Content("~/Sales/itsNew")",
                traditional: true,
                data: {
                    ProductId: _productId,
                    PharmaFormId: _pharmaformId,
                    Categoryid: _categoryId,
                    DivisionId: _divisionid,
                    EditionId :_editionid,
                    UserId: _UserID,
                    HashKey: _HasKey
                },
                success: function (data) {
                    swal({ title: "¡Cambios guardados!", type: "success", text: "", timer: 1000, });
                }
            });
        }
        else if (tr.find("#_new").is(":not(:checked)")) {
            $.ajax({
                type: "POST",
                dataType: "Json",
                url: "@Url.Content("~/Sales/notNew")",
                traditional: true,
                data: {
                    ProductId: _productId,
                    PharmaFormId: _pharmaformId,
                    Categoryid: _categoryId,
                    DivisionId: _divisionid,
                    EditionId: _editionid,
                    UserId: _UserID,
                    HashKey: _HasKey
                },
                success: function (data) {
                    swal({ title: "¡Cambios guardados!", type: "success", text: "", timer: 1000, });
                }
            });
        }
        }
</script>

@*Registro Sanitario*@
@*Obtains the data and position of the selected product*@
<script>
    var _positionSanitary;
    function _plusRegister(item) {
        var tr = $(item).parents("tr:first");
        _positionSanitary = tr;
        var _vlproductName = tr.find("#_productName").text();
        var _vlpharmaceuticalForm = tr.find("#_pharmaceuticalForm").text();
        var _vlcategoryName = tr.find("#_categoryName").text();
        var _vlsanitaryRegister = tr.find("#_sanitaryRegister").text();
        $("#_vlmessageRegister").empty();
        $("#_vlmessageRegister").append("Agregue el Registro Sanitario");
        $("#_vladdRegister").removeClass("hide");
        $("#_vlsaveRegister").addClass("hide");
        $("#_rlproductName").empty();
        $("#_rlproductName").append(_vlproductName);
        $("#_rlpharmaceuticalForm").empty();
        $("#_rlpharmaceuticalForm").append(_vlpharmaceuticalForm);
        $("#_rlcategoryName").empty();
        $("#_rlcategoryName").append(_vlcategoryName);
        $("#_vlsetSanitary").val(_vlsanitaryRegister);
    }
</script>
@*Obtains the data and position of the selected product*@
<script>
    var _positionSanitary;
    function _vlgetsanitary(item) {
        var tr = $(item).parents("tr:first");
        _positionSanitary = tr;
        var _vlproductName = tr.find("#_productName").text();
        var _vlpharmaceuticalForm = tr.find("#_pharmaceuticalForm").text();
        var _vlcategoryName = tr.find("#_categoryName").text();
        var _vlsanitaryRegister = tr.find("#_sanitaryRegister").text();
        $("#_vlmessageRegister").empty();
        $("#_vlmessageRegister").append("Modifique el registro sanitario");
        $("#_vladdRegister").addClass("hide");
        $("#_vlsaveRegister").removeClass("hide");
        $("#_rlproductName").empty();
        $("#_rlproductName").append(_vlproductName);
        $("#_rlpharmaceuticalForm").empty();
        $("#_rlpharmaceuticalForm").append(_vlpharmaceuticalForm);
        $("#_rlcategoryName").empty();
        $("#_rlcategoryName").append(_vlcategoryName);
        $("#_vlsetSanitary").val(_vlsanitaryRegister);
    }
</script>
@*Keeps changes to the health record entered*@
<script>
    function _vlsaveRegister(item) {
        var _vlgetsanitary = $("#_vlsetSanitary").val();
        _positionSanitary.find("#_sanitaryRegister").empty();
        _positionSanitary.find("#_sanitaryRegister").append(_vlgetsanitary);
        var _rlproductId = _positionSanitary.find("#_productId").val();
        var _rlpharmaFormid = _positionSanitary.find("#_pharmaFormId").val();
        var _rlcategoryId = _positionSanitary.find("#_categoryId").val();
        var _rldivisionId = _positionSanitary.find("#_divisionId").val();
        var _UserID = $("#_iduser").val();
        var _HasKey = $("#_haskey").val();
        alert(_UserID);
        alert(_HasKey);
        if (_vlgetsanitary.trim() == false) {
            _positionSanitary.find("#_plusRegister").removeClass("hide");
            _positionSanitary.find("#_pencilRegister").addClass("hide");
        }
        if (_vlgetsanitary.trim() != false) {
            _positionSanitary.find("#_plusRegister").addClass("hide");
            _positionSanitary.find("#_pencilRegister").removeClass("hide");
        }
        $.ajax({
            type: "POST",
            dataType: "json",
            url: "@Url.Content("~/Production1/saveSanitary")",
            traditional: true,
            data: {
                ProductId: _rlproductId,
                PharmaFormId: _rlpharmaFormid,
                Categoryid: _rlcategoryId,
                DivisionId: _rldivisionId,
                SanitaryRegister: _vlgetsanitary,
                UserId: _UserID,
                HashKey: _HasKey
            },
            success: function (data) {
                swal({ title: "¡Cambios guardados!", type: "success", text: "", timer: 1000, });
                $("._modalSanitary").modal("hide");
            }
        });
    }
</script>

@*Fracción COFEPRIS*@
@*Obtains the data and position of the selected product*@
<script>
    var _positionFraction;
    function _vlgetFraction(item) {
        var tr = $(item).parents("tr:first");
        _positionFraction = tr;
        var _vlproductName = tr.find("#_productName").text();
        var _vlpharmaceuticalForm = tr.find("#_pharmaceuticalForm").text();
        var _vlcategoryName = tr.find("#_categoryName").text();
        var _vlgetFraction = tr.find("#_fraction").text();
        $("#_messageFraction").empty();
        $("#_messageFraction").append("Agregue la Fracción Cofepris");
        $("#_addFraction").removeClass("hide");
        $("#_saveFraction").addClass("hide");
        $("#_fproductName").empty();
        $("#_fproductName").append(_vlproductName);
        $("#_fpharmaceuticalForm").empty();
        $("#_fpharmaceuticalForm").append(_vlpharmaceuticalForm);
        $("#_fcategoryName").empty();
        $("#_fcategoryName").append(_vlcategoryName);
        $("#_setFraction").val(_vlgetFraction);
    }
</script>
@*Obtains the data and position of the selected product*@
<script>
    var _positionFraction;
    function _fractionPencil(item) {
        var tr = $(item).parents("tr:first");
        _positionFraction = tr;
        var _vlproductName = tr.find("#_productName").text();
        var _vlpharmaceuticalForm = tr.find("#_pharmaceuticalForm").text();
        var _vlcategoryName = tr.find("#_categoryName").text();
        var _vlgetFraction = tr.find("#_fraction").text();
        $("#_messageFraction").empty();
        $("#_messageFraction").append("Modifique la Fracción Cofepris");
        $("#_addFraction").addClass("hide");
        $("#_saveFraction").removeClass("hide");
        $("#_fproductName").empty();
        $("#_fproductName").append(_vlproductName);
        $("#_fpharmaceuticalForm").empty();
        $("#_fpharmaceuticalForm").append(_vlpharmaceuticalForm);
        $("#_fcategoryName").empty();
        $("#_fcategoryName").append(_vlcategoryName);
        $("#_setFraction").val(_vlgetFraction);
    }
</script>
@*Saves the changes of the fraction COFEPRIS entered*@
<script>
    function _saveFraction(item) {
        var _vlgetFraction = $("#_setFraction").val();
        _positionFraction.find("#_fraction").empty();
        _positionFraction.find("#_fraction").append(_vlgetFraction);
        var _flproductId = _positionFraction.find("#_productId").val();
        var _flpharmaFormid = _positionFraction.find("#_pharmaFormId").val();
        var _flcategoryId = _positionFraction.find("#_categoryId").val();
        var _fldivisionId = _positionFraction.find("#_divisionId").val();
        var _UserID = $("#_iduser").val();
        var _HasKey = $("#_haskey").val();

        if (_vlgetFraction.trim() == false) {
            _positionFraction.find("#_plusFraction").removeClass("hide");
            _positionFraction.find("#_fractionPencil").addClass("hide");
        }
        if (_vlgetFraction.trim() != false) {
            _positionFraction.find("#_plusFraction").addClass("hide");
            _positionFraction.find("#_fractionPencil").removeClass("hide");
        }
        $.ajax({
            type: "POST",
            dataType: "json",
            url: "@Url.Content("~/Production1/saveFraction")",
            traditional: true,
            data: {
                ProductId: _flproductId,
                PharmaFormId: _flpharmaFormid,
                Categoryid: _flcategoryId,
                DivisionId: _fldivisionId,
                Fraction: _vlgetFraction,
                UserId: _UserID,
                HashKey: _HasKey 
            },
            success: function (data) {
                swal({ title: "¡Cambios guardados!", type: "success", text: "", timer: 1000, });
                $('._modalFraction').modal('hide');
            }
        });
    }
</script>


@*Prevents the user from writing letters on the input tag*@
<script>
    function validate(evt) {
        var theEvent = evt || window.event;
        var key = theEvent.keyCode || theEvent.which;
        key = String.fromCharCode(key);
        var regex = /[0-9]|\./;
        if (!regex.test(key)) {
            theEvent.returnValue = false;
            if (theEvent.preventDefault) theEvent.preventDefault();
        }
    }
</script>
@*Save the division logo*@
<script>
    $(document).on('click', '._sendFile', function () {
        var _vldivisionId = $("#_vliDivisionId").val();
        var formData = new FormData();
        var file = document.getElementById("File").files[0];
        if (file == null) {
            swal({ title: "¡Atención!", type: "error", text: "Debe cargar un logo" });
        }
        else {
            formData.append("File", file);
            formData.append("DivisionId", _vldivisionId)
            $.ajax({
                type: "POST",
                url: '@Url.Content("~/Production/SaveDivisionImage")',
                data: formData,
                dataType: 'json',
                contentType: false,
                processData: false,
                success: function (response) {
                    var baseSrc = '@Url.Content("~/")';
                    $.each(response, function (index, item) {
                        $("#_logoName").removeClass("hide");
                        $("#_vllogoName").empty();
                        $("#_vllogoName").val(item.ImageName);
                        $("#_srcImage").removeAttr("src");
                        $("#_srcImage").attr("src", "" + baseSrc + "DivisionImages/" + item.ImageName + "");
                        $("#_notLogo").removeClass("hide");
                        $("#_notLogo").empty();
                        $("#_notLogo").append(item.ImageName);
                        $("#_changeLogo").removeClass("hide");
                        $("#_chargeLogo").addClass("hide");
                        $("#_deleteLogo").removeClass("hide");
                    });
                    $("._modalLogo").modal("hide");
                    $("#File").fileinput('clear')
                    swal({ title: "¡Cambios guardados!", type: "success", text: "", timer: 1000, });
                },
                error: function (error) {
                    swal({ title: "¡Error!", type: "error", text: "Ocurrio un problema al cargar el logo, intentelo nuevamente", });
                }
            });
        }
    });
</script>
@*Removes the lab logo*@
<script>
    function _deleteLogo(item) {
        var _vldivisionId = $("#_vliDivisionId").val();
        swal({
            title: '¿Desea eliminar el logo del laboratorio?',
            text: "",
            type: "warning",
            showCancelButton: true,
            cancelButtonText: "Cancelar",
            confirmButtonColor: "#DD6B55",
            confirmButtonText: "Aceptar",
            closeOnConfirm: false
        },
        function () {
            $.ajax({
                type: "POST",
                dataType: "json",
                url: "@Url.Content("~/Production/deleteDivisionImage")",
                traditional: true,
                data: {
                    DivisionId: _vldivisionId,
                },
                success: function (data) {
                    var baseSrc = '@Url.Content("~/")';
                    $("#_deleteLogo").addClass("hide");
                    $("#_changeLogo").addClass("hide");
                    $("#_chargeLogo").removeClass("hide");
                    $("#_srcImage").removeAttr("src");
                    $("#_srcImage").attr("src", "" + baseSrc + "Images/sinLogo.gif");
                    $("#_notLogo").removeClass("hide");
                    $("#_notLogo").empty();
                    $("#_notLogo").append("Sin logo");
                    swal({ title: "¡Cambios guardados!", type: "success", text: "", timer: 1000, });
                }
            });
        });
    }
</script>
@*Activate the modal window and write in the tags the corresponding parameters (Change)*@
<script>
    function _changeLogo(item) {
        var _getImageName = $("#_vllogoName").val();
        $("#_logoName").removeClass("hide");
        $("#_setImageName").empty();
        $("#_setImageName").append(_getImageName);
        $("#_messageLogo").empty();
        $("#_messageLogo").append("¡Atención! <span style='color: #de5145'>Si carga un logo se sustituirá el existente</span>")
    }
</script>
@*Activate the modal window and write in the tags the corresponding parameters (Create)*@
<script>
    function _createLogo(item) {
        $("#_logoName").addClass("hide");
        $("#_messageLogo").empty();
        $("#_messageLogo").append("Cargue el logo del laboratorio")
    }
</script>
@*Closes the modal window in which the logo is loaded*@
<script>
    function _closeLogo(item) {
        $("#File").fileinput('clear')
        $("._modalLogo").modal("hide");
    }
</script>


@*Saves changes when a product changes and when it does not*@
<script>
    function _changes(item) {
        var tr = $(item).parents("tr:first");
        var _vlproductId = tr.find("#_productId").val();
        var _vlpharmaformId = tr.find("#_pharmaFormId").val();
        var _vlcategoryId = tr.find("#_categoryId").val();
        var _vldivisionid = tr.find("#_divisionId").val();
        var _vleditionId = $("#_editionId").val();
        if (tr.find("#_changes").is(":checked")) {
            tr.find("#_btnChanges").removeClass("hide");
            tr.find("#_new").prop("checked", false);
            tr.find("#_chargeOrthographic").prop("checked", false);
            $.ajax({
                type: "POST",
                dataType: "json",
                url: "@Url.Content("~/Production/withChanges")",
                traditional: true,
                data: {
                    ProductId: _vlproductId,
                    PharmaFormId: _vlpharmaformId,
                    Categoryid: _vlcategoryId,
                    DivisionId: _vldivisionid,
                    EditionId: _vleditionId
                },
                success: function (data) {
                    swal({ title: "¡Cambios guardados!", type: "success", text: "", timer: 1000, });
                }
            });
        }
        else if (tr.find("#_changes").is(":not(:checked)")) {
            tr.find("#_btnChanges").addClass("hide");
            $.ajax({
                type: "POST",
                dataType: "json",
                url: "@Url.Content("~/Production/withoutChanges")",
                traditional: true,
                data: {
                    ProductId: _vlproductId,
                    PharmaFormId: _vlpharmaformId,
                    Categoryid: _vlcategoryId,
                    DivisionId: _vldivisionid,
                    EditionId: _vleditionId
                },
                success: function (data) {
                    swal({ title: "¡Cambios guardados!", type: "success", text: "", timer: 1000, });
                }
            });
        }
    }
</script>
@*Saves the changes when a product presents orthographic changes and when it does not present them*@
<script>
    function _chargeOrthographic(item) {
        var tr = $(item).parents("tr:first");
        var _vlproductId = tr.find("#_productId").val();
        var _vlpharmaformId = tr.find("#_pharmaFormId").val();
        var _vlcategoryId = tr.find("#_categoryId").val();
        var _vldivisionid = tr.find("#_divisionId").val();
        var _vleditionId = $("#_editionId").val();
        if (tr.find("#_chargeOrthographic").is(":checked")) {
            tr.find("#_btnChanges").addClass("hide");
            tr.find("#_new").prop("checked", false);
            tr.find("#_changes").prop("checked", false);
            $.ajax({
                type: "POST",
                dataType: "json",
                url: "@Url.Content("~/Production/withOrthographicChanges")",
                traditional: true,
                data: {
                    ProductId: _vlproductId,
                    PharmaFormId: _vlpharmaformId,
                    Categoryid: _vlcategoryId,
                    DivisionId: _vldivisionid,
                    EditionId: _vleditionId
                },
                success: function (data) {
                    swal({ title: "¡Cambios guardados!", type: "success", text: "", timer: 1000, });
                }
            });
        }
        else if (tr.find("#_chargeOrthographic").is(":not(:checked)")) {
            $.ajax({
                type: "POST",
                dataType: "json",
                url: "@Url.Content("~/Production/withoutOrthographicChanges")",
                traditional: true,
                data: {
                    ProductId: _vlproductId,
                    PharmaFormId: _vlpharmaformId,
                    Categoryid: _vlcategoryId,
                    DivisionId: _vldivisionid,
                    EditionId: _vleditionId
                },
                success: function (data) {
                    swal({ title: "¡Cambios guardados!", type: "success", text: "", timer: 1000, });
                }
            });
        }
    }
</script>
@*Obtains the items in which the product has undergone some change*@
<script>
    var _positionItem;
    function _getItem(item) {
        var tr = $(item).parents("tr:first");
        _positionItem = tr;
        var _iProductName = tr.find("#_productName").text();
        var _iPharmaceuticalForm = tr.find("#_pharmaceuticalForm").text();
        var _iCategoryName = tr.find("#_categoryName").text();
        $("#_itproductName").empty();
        $("#_itproductName").append(_iProductName);
        $("#_itpharmaceuticalForm").empty();
        $("#_itpharmaceuticalForm").append(_iPharmaceuticalForm);
        $("#_itcategoryName").empty();
        $("#_itcategoryName").append(_iCategoryName);
        $("#_elementItems tbody").empty();
        var _iProductId = tr.find("#_productId").val();
        var _iPharmaformId = tr.find("#_pharmaFormId").val();
        var _iCategoryId = tr.find("#_categoryId").val();
        var _iDivisionId = tr.find("#_divisionId").val();
        var _iEditionId = $("#_editionId").val();
        var _iCountryId = $("#_countryId").val();
        var _iBookId = $("#_bookId").val();
        $("#_elementAttributes tbody").empty();
        $.ajax({
            type: "POST",
            dataType: "json",
            url: "@Url.Content("~/Production/getAtributes")",
            traditional: true,
            data: {
                CountryId: _iCountryId,
                BookId: _iBookId,
                EditionId: _iEditionId,
                ProductId: _iProductId,
                PharmaFormId: _iPharmaformId,
                Categoryid: _iCategoryId,
                DivisionId: _iDivisionId
            },
            success: function (data) {
                if (data == false) {
                    $("#_elementAttributes tbody").append(
                        "<tr id='_itemNull'>"
                        + "<td align='center'>" + "Sin rubros" + "</td>"
                        + "<td></td>"
                        + "</tr>"
                        );
                }
                else {
                    $.each(data, function (index, item) {
                        if (item.check == "true") {
                            var _checked = "checked";
                        }
                        $("#_elementAttributes tbody").append(
                            "<tr>"
                            + "<td align='center'>" + "<span id='_atributeName'>" + item.AttributeGroupName + "</span>" + "</td>"
                            + "<td align='center'>"
                            + " <input type='hidden' id='_vlattributeId' value='" + item.AttributeGroupId + "'>"
                            + "<input id='_checkAttributes' onclick='_setAttributes($(this))' type='checkbox' " + _checked + ">"
                            + "</td>"
                            + "</tr>"
                            );
                    });
                }
            }
        });
        $.ajax({
            type: "POST",
            dataType: "json",
            url: "@Url.Content("~/Production/getItems")",
            traditional: true,
            data: {
                EditionId: _iEditionId,
                ProductId: _iProductId,
                PharmaFormId: _iPharmaformId,
                Categoryid: _iCategoryId,
                DivisionId: _iDivisionId
            },
            success: function (data) {
                if (data == false) {
                    $("#_elementItems tbody").append(
                        "<tr id='_itemNull'>"
                        + "<td align='center'>" + "Sin rubros" + "</td>"
                        + "</tr>"
                        );
                }
                else {
                    $.each(data, function (index, item) {
                        $("#_elementItems tbody").append(
                            "<tr>"
                            + "<td align='center'>" + "<span> " + item.AttributeGroupName + "</span>" + "</td>"
                            + "</tr>"
                            );
                    });
                }
            }
        });
    }
    function _closeModal(item) {
        $("._modalItem").removeClass("modalLeft");
        $('._modalIpp').modal('hide');
    }
    function _closeIpp(item) {
        $("._modalItem").removeClass("modalLeft");
    }
</script>
@*Saves the changes when the user has marked an item in which the product has undergone changes*@
<script>
    function _setAttributes(item) {
        var tr = $(item).parents("tr:first");
        var _getAttributeGroupName = tr.find("#_atributeName").text();
        var _vlAttributeGroupId = tr.find("#_vlattributeId").val();
        var _vlProductId = _positionItem.find("#_productId").val();
        var _vlCategoryId = _positionItem.find("#_categoryId").val();
        var _vlDivisionId = _positionItem.find("#_divisionId").val();
        var _vlPharmaFormId = _positionItem.find("#_pharmaFormId").val();
        var _vlEditionId = $("#_editionId").val();
        if (tr.find("#_checkAttributes").is(":checked")) {
            $('#_elementItems > tbody  > tr').each(function (tr) {
                var _getAttributes = $(this).text();
                if (_getAttributes == "Sin rubros") {
                    $(this).remove();
                }
            })
            $("#_elementItems tbody").append(
                "<tr>"
                + "<td align='center'><span>" + _getAttributeGroupName + "</span>" + "</td>"
                + "</tr>"
                );
            $.ajax({
                type: "POST",
                dataType: "json",
                url: "@Url.Content("~/Production/saveAttributeGroup")",
                traditional: true,
                data: {
                    EditionId: _vlEditionId,
                    DivisionId: _vlDivisionId,
                    AttributeGroupId: _vlAttributeGroupId,
                    ProductId: _vlProductId,
                    CategoryId: _vlCategoryId,
                    PharmaFormId: _vlPharmaFormId
                },
                success: function (data) {
                    swal({ title: "¡Cambios guardados!", type: "success", text: "", timer: 1000, });
                }
            });
        }
        else if (tr.find("#_checkAttributes").is(":not(:checked)")) {
            $('#_elementItems > tbody  > tr').each(function (tr) {
                var _getAttributes = $(this).text();
                if (_getAttributes.trim() == _getAttributeGroupName.trim()) {
                    $(this).remove();
                }
            });
            $.ajax({
                type: "POST",
                dataType: "json",
                url: "@Url.Content("~/Production/removeAttributeGroup")",
                traditional: true,
                data: {
                    EditionId: _vlEditionId,
                    DivisionId: _vlDivisionId,
                    AttributeGroupId: _vlAttributeGroupId,
                    ProductId: _vlProductId,
                    CategoryId: _vlCategoryId,
                    PharmaFormId: _vlPharmaFormId
                },
                success: function (data) {
                    swal({ title: "¡Cambios guardados!", type: "success", text: "", timer: 1000, });
                }
            });
        }
    }
</script>
@*Shows product prescribing information*@
<script>
    function _showIpp(item) {
        $("._modalItem").addClass("modalLeft");
        $("#_contentIpp").empty();
        var _iaProductId = _positionItem.find("#_productId").val();
        var _iaPharmaformId = _positionItem.find("#_pharmaFormId").val();
        var _iaCategoryId = _positionItem.find("#_categoryId").val();
        var _iaDivisionId = _positionItem.find("#_divisionId").val();
        var _iaEditionId = $("#_editionId").val();
        $.ajax({
            type: "POST",
            dataType: "json",
            url: "@Url.Content("~/Production/getIpp")",
            traditional: true,
            data: {
                EditionId: _iaEditionId,
                ProductId: _iaProductId,
                PharmaFormId: _iaPharmaformId,
                Categoryid: _iaCategoryId,
                DivisionId: _iaDivisionId
            },
            success: function (data) {
                if (data == false) {
                    $("#_contentIpp").append("Sin contenido");
                }
                else {
                    var baseSrc = '@Url.Content("~/")';
                    $.each(data, function (index, item) {
                        if (item.HTMLContent != null) {
                            $("#_contentIpp").append(item.HTMLContent)
                        }
                        else {
                            $("#_contentIpp").append("<div style='padding-top:200px;' align='center'><img src='" + baseSrc + "Images/nothtml.png' class='img-responsive'></div>")
                        }

                    });
                }
            }
        });
    }
</script>
@*Get the presentations of the selected product*@
<script>
    var _vlpositionp;
    function _getPresentation(item) {
        var tr = $(item).parents("tr:first");
        _vlpositionp = tr;
        var _vdivisionId = tr.find("#_divisionId").val();
        var _vproductId = tr.find("#_productId").val();
        var _vproductName = tr.find("#_productName").text();
        var _vpharmaFormId = tr.find("#_pharmaFormId").val();
        var _vpharmaceuticalForm = tr.find("#_pharmaceuticalForm").text();
        var _vcategoryId = tr.find("#_categoryId").val();
        var _vcategoryName = tr.find("#_categoryName").text();
        var _veditionId = $("#_editionId").val();
        $("#_vproductName").empty();
        $("#_vproductName").append(_vproductName);
        $("#_vpharmaceuticalForm").empty();
        $("#_vpharmaceuticalForm").append(_vpharmaceuticalForm);
        $("#_vcategoryName").empty();
        $("#_vcategoryName").append(_vcategoryName);
        $("#_elementPresentation tbody").empty();
        $.ajax({
            type: "POST",
            dataType: "json",
            url: "@Url.Content("~/Production/getPresentation")",
            traditional: true,
            data: {
                EditionId: _veditionId,
                ProductId: _vproductId,
                PharmaFormId: _vpharmaFormId,
                Categoryid: _vcategoryId,
                DivisionId: _vdivisionId
            },
            success: function (data) {
                if (data == false) {
                    $("#_elementPresentation tbody").append(
                        "<tr>"
                        + "<td style='vertical-align:middle' align='center' colspan='12'>"
                        + "<span style='color: #de5145;'>Sin presentaciones</span>"
                        + "</td>"
                        + "<tr>"
                        )
                }
                else {
                    $.each(data, function (index, item) {
                        if (item.QtyExternalPack == null) {
                            item.QtyExternalPack = "";
                        }
                        if (item.ExternalPackName == null) {
                            item.ExternalPackName = "";
                        }
                        if (item.QtyInternalPack == null) {
                            item.QtyInternalPack = "";
                        }
                        if (item.InternalPackName == null) {
                            item.InternalPackName = "";
                        }
                        if (item.QtyContentUnit == null) {
                            item.QtyContentUnit = "";
                        }
                        if (item.ContentUnitName == null) {
                            item.ContentUnitName = "";
                        }
                        if (item.QtyWeightUnit == null) {
                            item.QtyWeightUnit = "";
                        }
                        if (item.WeightUnitName == null) {
                            item.WeightUnitName = "";
                        }
                        if (item.View != null) {
                            item.View = "<button onclick='_viewPresentation($(this))' class='btn btn-default btn-sm loading'>"
                                      + "<span class='glyphicon glyphiconr glyphicon glyphicon-picture'>"
                                      + "</span>Ver</button>";
                        }
                        else {
                            item.View = "";
                        }
                        if (item.LongCount > 7) {
                            $("#_dvPresentations").addClass("heightdiv");
                        }
                        else {
                            $("#_dvPresentations").removeClass("heightdiv");
                        }
                        $("#_elementPresentation tbody").append(
                            "<tr>"
                            + "<td style='vertical-align:middle' align='center'>" + item.QtyExternalPack + "</td>"
                            + "<td style='vertical-align:middle' align='center'>" + item.ExternalPackName + "</td>"
                            + "<td style='vertical-align:middle' align='center'>" + item.QtyInternalPack + "</td>"
                            + "<td style='vertical-align:middle' align='center'>" + item.InternalPackName + "</td>"
                            + "<td style='vertical-align:middle' align='center'>" + item.QtyContentUnit + "</td>"
                            + "<td style='vertical-align:middle' align='center'>" + item.ContentUnitName + "</td>"
                            + "<td style='vertical-align:middle' align='center'>" + item.QtyWeightUnit + "</td>"
                            + "<td style='vertical-align:middle' align='center'>" + item.WeightUnitName + "</td>"
                            + "<td id='_vlxpresentation' style='vertical-align:middle' align='center'>" + item.Presentation + "</td>"
                            + "<td style='vertical-align:middle' align='center'>" + "<input id='_vlproductImageId' type='hidden' value='" + item.ProductImageId + "'>" + item.View + "</td>"
                            + "<td style='vertical-align:middle' align='center'>"
                            + "<button onclick='_vlepresentation($(this))' data-toggle='modal' data-target='._vlmpresentation' class='btn btn-default  btn-sm loading'>"
                            + "<i class='glyphicon glyphicon-pencil'>"
                            + "</i>"
                            + "</button>"
                            + "</td>"
                            + "<td style='vertical-align:middle' align='center'>" + "<input id='_vlpresentationId' type='hidden' value='" + item.PresentationId + "'>"
                            + "<button onclick='_vldpresentation($(this))' class='btn btn-danger btn-sm loading'>"
                            + "<i class='glyphicon glyphicon-remove'>"
                            + "</i>"
                            + "</td>"
                            + "</tr>"
                            );
                    });
                }
            }
        });
    }
</script>
@*Close the modal window of the presentations the selected product*@
<script>
    function _closePresentation(item) {
        $("#_dvPresentations").removeClass("heightdiv");
        $("._modalPresentation").addClass("modal-wide");
        $("._modalPresentation").removeClass("modalLeft");
        $('._modalAddPresentation').modal('hide');
        $('._modalImages').modal('hide');
        $("#File400").fileinput('clear')
        $("#File384").fileinput('clear')
        $("#File320").fileinput('clear')
        $("#_tvlexternalPack").addClass("hide");
        $("#_fvlexternalPack").addClass("hide");
        $("#_fgetExternalPack").addClass("hide");
        $("#_tgetExternalPack").addClass("hide");
        $("#_tvlinternalPack").addClass("hide");
        $("#_fgetInternalPack").addClass("hide");
        $("#_fvlinternalPack").addClass("hide");
        $("#_tgetInternalPack").addClass("hide");
        $("#_tvlcontentUnits").addClass("hide");
        $("#_fgetContentUnits").addClass("hide");
        $("#_fvlcontentUnits").addClass("hide");
        $("#_tgetContentUnits").addClass("hide");
        $("#_tvlweightUnits").addClass("hide");
        $("#_fgetWeightUnits").addClass("hide");
        $("#_fvlweightUnits").addClass("hide");
        $("#_tgetWeightUnits").addClass("hide");
        $('html').css('overflow', 'auto');
    }
</script>
@*Shows the modal window in which a new presentation will be added, showing the values ​​set*@
<script>
    function _showaddp(item) {
        var _sproductname = _vlpositionp.find("#_productName").text();
        var _scategoryName = _vlpositionp.find("#_categoryName").text();
        var _spharmaceuticalForm = _vlpositionp.find("#_pharmaceuticalForm").text();
        $("._modalAddPresentation").addClass("overflowModal");
        $('html').css('overflow', 'hidden');
        $("._modalImages").modal("hide");
        $("#_sproductName").empty();
        $("#_sproductName").append(_sproductname);
        $("#_scategoryName").empty();
        $("#_scategoryName").append(_scategoryName);
        $("#_spharmaceuticalForm").empty();
        $("#_spharmaceuticalForm").append(_spharmaceuticalForm);
        $("._modalPresentation").removeClass("modal-wide");
        $("._modalPresentation").addClass("modalLeft");
        $("#_vlexternalPack").val("");
        $("#_vlinternalPack").val("");
        $("#_vlcontentUnits").val("");
        $("#_vlweightUnits").val("");
        $("#File400").fileinput('clear')
        $("#File384").fileinput('clear')
        $("#File320").fileinput('clear')
        $("#_tvlexternalPack").addClass("hide");
        $("#_fvlexternalPack").addClass("hide");
        $("#_fgetExternalPack").addClass("hide");
        $("#_tgetExternalPack").addClass("hide");
        $("#_tvlinternalPack").addClass("hide");
        $("#_fgetInternalPack").addClass("hide");
        $("#_fvlinternalPack").addClass("hide");
        $("#_tgetInternalPack").addClass("hide");
        $("#_tvlcontentUnits").addClass("hide");
        $("#_fgetContentUnits").addClass("hide");
        $("#_fvlcontentUnits").addClass("hide");
        $("#_tgetContentUnits").addClass("hide");
        $("#_tvlweightUnits").addClass("hide");
        $("#_fgetWeightUnits").addClass("hide");
        $("#_fvlweightUnits").addClass("hide");
        $("#_tgetWeightUnits").addClass("hide");
        $.ajax({
            type: "POST",
            dataType: "json",
            url: "@Url.Content("~/Production/getExternalPack")",
            traditional: true,
            data: {},
            success: function (data) {
                $('#_getExternalPack').empty();
                $('#_getExternalPack').append("'<option value='0'>Seleccione...</option>'");
                $.each(data, function (index, item) {
                    $('#_getExternalPack').append('<option value="' + item.ExternalPackId + '">' + item.ExternalPackName + '</option>');
                });
            }
        });
        $.ajax({
            type: "POST",
            dataType: "json",
            url: "@Url.Content("~/Production/getInternalPack")",
            traditional: true,
            data: {},
            success: function (data) {
                $('#_getInternalPack').empty();
                $('#_getInternalPack').append("'<option value='0'>Seleccione...</option>'");
                $.each(data, function (index, item) {
                    $('#_getInternalPack').append('<option value="' + item.InternalPackId + '">' + item.InternalPackName + '</option>');
                });
            }
        });
        $.ajax({
            type: "POST",
            dataType: "json",
            url: "@Url.Content("~/Production/getContentUnits")",
            traditional: true,
            data: {},
            success: function (data) {
                $('#_getContentUnits').empty();
                $('#_getContentUnits').append("'<option value='0'>Seleccione...</option>'");
                $.each(data, function (index, item) {
                    $('#_getContentUnits').append('<option value="' + item.ContentUnitId + '">' + item.UnitName + '</option>');
                });
            }
        });
        $.ajax({
            type: "POST",
            dataType: "json",
            url: "@Url.Content("~/Production/getWeightUnits")",
            traditional: true,
            data: {},
            success: function (data) {
                $('#_getWeightUnits').empty();
                $('#_getWeightUnits').append("'<option value='0'>Seleccione...</option>'");
                $.each(data, function (index, item) {
                    $('#_getWeightUnits').append('<option value="' + item.WeightUnitId + '">' + item.UnitName + '</option>');
                });
            }
        });
    }
</script>
@*Evaluate the results when the user has added a new presentation, showing the errors that may have*@
<script>
    function _vladdPresentation(item) {
        var _getfile400 = document.getElementById("File400").files[0];
        var _getfile384 = document.getElementById("File384").files[0];
        var _getfile320 = document.getElementById("File320").files[0];
        var _vlxexternalPack = $("#_vlexternalPack").val();
        var _vlxinternalPack = $("#_vlinternalPack").val();
        var _vlxcontentUnits = $("#_vlcontentUnits").val();
        var _vlxweightUnits = $("#_vlweightUnits").val();
        var _vlxeditionId = $("#_editionId").val();
        var _vlxdivisionId = _vlpositionp.find("#_divisionId").val();
        var _vlxproductId = _vlpositionp.find("#_productId").val();
        var _vlxcategoryId = _vlpositionp.find("#_categoryId").val();
        var _vlxpharmaFormId = _vlpositionp.find("#_pharmaFormId").val();
        var _vlzexternalPackId = $("#_getExternalPack option:selected").val();
        var _vlzinternalPackId = $("#_getInternalPack option:selected").val();
        var _vlzcontentUnitsId = $("#_getContentUnits option:selected").val();
        var _vlzweightUnitsId = $("#_getWeightUnits option:selected").val();
        var _UserID = $("#_iduser").val();
        var _HasKey = $("#_haskey").val();
        $("#_tvlexternalPack").addClass("hide");
        $("#_fvlexternalPack").addClass("hide");
        $("#_fgetExternalPack").addClass("hide");
        $("#_tgetExternalPack").addClass("hide");
        $("#_tvlinternalPack").addClass("hide");
        $("#_fgetInternalPack").addClass("hide");
        $("#_fvlinternalPack").addClass("hide");
        $("#_tgetInternalPack").addClass("hide");
        $("#_tvlcontentUnits").addClass("hide");
        $("#_fgetContentUnits").addClass("hide");
        $("#_fvlcontentUnits").addClass("hide");
        $("#_tgetContentUnits").addClass("hide");
        $("#_tvlweightUnits").addClass("hide");
        $("#_fgetWeightUnits").addClass("hide");
        $("#_fvlweightUnits").addClass("hide");
        $("#_tgetWeightUnits").addClass("hide");
        if (_getfile400 != null && _getfile384 != null
            && _vlxexternalPack.trim() == false
            && _vlxinternalPack.trim() == false
            && _vlxcontentUnits.trim() == false
            && _vlxweightUnits.trim() == false
            && _vlzexternalPackId == "0"
            && _vlzinternalPackId == "0"
            && _vlzcontentUnitsId == "0"
            && _vlzweightUnitsId == "0") {
            swal({ title: "¡Atención!", type: "error", text: "No puede cargar imagenes sin datos en la presentación" });
        }
        else if (_getfile400 != null && _getfile320 != null
            && _vlxexternalPack.trim() == false
            && _vlxinternalPack.trim() == false
            && _vlxcontentUnits.trim() == false
            && _vlxweightUnits.trim() == false
            && _vlzexternalPackId == "0"
            && _vlzinternalPackId == "0"
            && _vlzcontentUnitsId == "0"
            && _vlzweightUnitsId == "0") {
            swal({ title: "¡Atención!", type: "error", text: "No puede cargar imagenes sin datos en la presentación" });
        }
        else if (_getfile400 != null && _getfile384 != null && _getfile320 != null
            && _vlxexternalPack.trim() == false
            && _vlxinternalPack.trim() == false
            && _vlxcontentUnits.trim() == false
            && _vlxweightUnits.trim() == false
            && _vlzexternalPackId == "0"
            && _vlzinternalPackId == "0"
            && _vlzcontentUnitsId == "0"
            && _vlzweightUnitsId == "0") {
            swal({ title: "¡Atención!", type: "error", text: "No puede cargar imagenes sin datos en la presentación" });
        }
        if (_getfile400 != null
            && _vlxexternalPack.trim() == false
            && _vlxinternalPack.trim() == false
            && _vlxcontentUnits.trim() == false
            && _vlxweightUnits.trim() == false
            && _vlzexternalPackId == "0"
            && _vlzinternalPackId == "0"
            && _vlzcontentUnitsId == "0"
            && _vlzweightUnitsId == "0") {
            swal({ title: "¡Atención!", type: "error", text: "No puede cargar una imagen sin datos en la presentación" });
        }
        else if (_getfile384 != null
            && _vlxexternalPack.trim() == false
            && _vlxinternalPack.trim() == false
            && _vlxcontentUnits.trim() == false
            && _vlxweightUnits.trim() == false
            && _vlzexternalPackId == "0"
            && _vlzinternalPackId == "0"
            && _vlzcontentUnitsId == "0"
            && _vlzweightUnitsId == "0") {
            swal({ title: "¡Atención!", type: "error", text: "No puede cargar una imagen sin datos en la presentación" });
        }
        else if (_getfile320 != null
            && _vlxexternalPack.trim() == false
            && _vlxinternalPack.trim() == false
            && _vlxcontentUnits.trim() == false
            && _vlxweightUnits.trim() == false
            && _vlzexternalPackId == "0"
            && _vlzinternalPackId == "0"
            && _vlzcontentUnitsId == "0"
            && _vlzweightUnitsId == "0") {
            swal({ title: "¡Atención!", type: "error", text: "No puede cargar una imagen sin datos en la presentación" });
        }
        else if (_vlxexternalPack.trim() == false
            && _vlxinternalPack.trim() == false
            && _vlxcontentUnits.trim() == false
            && _vlxweightUnits.trim() == false
            && _vlzexternalPackId == "0"
            && _vlzinternalPackId == "0"
            && _vlzcontentUnitsId == "0"
            && _vlzweightUnitsId == "0") {
            $("#_fvlexternalPack").removeClass("hide");
            $("#_fgetExternalPack").removeClass("hide");
            $("#_fgetInternalPack").removeClass("hide");
            $("#_fvlinternalPack").removeClass("hide");
            $("#_fgetContentUnits").removeClass("hide");
            $("#_fvlcontentUnits").removeClass("hide");
            $("#_fgetWeightUnits").removeClass("hide");
            $("#_fvlweightUnits").removeClass("hide");
            swal({ title: "¡Atención!", type: "error", text: "La presentación no tiene valores" });
        }
        else if (_vlzexternalPackId == "0" && _vlxexternalPack.trim() != false) {
            $("#_tvlexternalPack").removeClass("hide");
            $("#_fgetExternalPack").removeClass("hide");
            $("#_fvlexternalPack").addClass("hide");
            $("#_tgetExternalPack").addClass("hide");
            swal({ title: "¡Atención!", type: "error", text: "El empaque externo no puede quedar vacio" });
        }
        else if (_vlzexternalPackId != "0" && _vlxexternalPack.trim() == false) {
            $("#_tvlexternalPack").addClass("hide");
            $("#_fgetExternalPack").addClass("hide");
            $("#_fvlexternalPack").removeClass("hide");
            $("#_tgetExternalPack").removeClass("hide");
            swal({ title: "¡Atención!", type: "error", text: "La cantidad del empaque externo no puede quedar vacio" });
        }
        else if (_vlzinternalPackId == "0" && _vlxinternalPack.trim() != false) {
            $("#_tvlinternalPack").removeClass("hide");
            $("#_fgetInternalPack").removeClass("hide");
            $("#_fvlinternalPack").addClass("hide");
            $("#_tgetInternalPack").addClass("hide");
            swal({ title: "¡Atención!", type: "error", text: "El empaque interno no puede quedar vacio" });
        }
        else if (_vlzinternalPackId != "0" && _vlxinternalPack.trim() == false) {
            $("#_tvlinternalPack").addClass("hide");
            $("#_fgetInternalPack").addClass("hide");
            $("#_fvlinternalPack").removeClass("hide");
            $("#_tgetInternalPack").removeClass("hide");
            swal({ title: "¡Atención!", type: "error", text: "La cantidad del empaque interno no puede quedar vacio" });
        }
        else if (_vlzcontentUnitsId == "0" && _vlxcontentUnits.trim() != false) {
            $("#_tvlcontentUnits").removeClass("hide");
            $("#_fgetContentUnits").removeClass("hide");
            $("#_fvlcontentUnits").addClass("hide");
            $("#_tgetContentUnits").addClass("hide");
            swal({ title: "¡Atención!", type: "error", text: "El contenido del producto no puede quedar vacio" });
        }
        else if (_vlzcontentUnitsId != "0" && _vlxcontentUnits.trim() == false) {
            $("#_tvlcontentUnits").addClass("hide");
            $("#_fgetContentUnits").addClass("hide");
            $("#_fvlcontentUnits").removeClass("hide");
            $("#_tgetContentUnits").removeClass("hide");
            swal({ title: "¡Atención!", type: "error", text: "La cantidad del contenido del producto no puede quedar vacio" });
        }
        else if (_vlzweightUnitsId == "0" && _vlxweightUnits.trim() != false) {
            $("#_tvlweightUnits").removeClass("hide");
            $("#_fgetWeightUnits").removeClass("hide");
            $("#_fvlweightUnits").addClass("hide");
            $("#_tgetWeightUnits").addClass("hide");
            swal({ title: "¡Atención!", type: "error", text: "La concentración del producto no puede quedar vacio" });
        }
        else if (_vlzweightUnitsId != "0" && _vlxweightUnits.trim() == false) {
            $("#_tvlweightUnits").addClass("hide");
            $("#_fgetWeightUnits").addClass("hide");
            $("#_fvlweightUnits").removeClass("hide");
            $("#_tgetWeightUnits").removeClass("hide");
            swal({ title: "¡Atención!", type: "error", text: "La cantidad de concentración del producto no puede quedar vacio" });
        }
        else {
            if (_vlzexternalPackId != "0" && _vlxexternalPack.trim() != false) {
                $("#_tvlexternalPack").removeClass("hide");
                $("#_fgetExternalPack").addClass("hide");
                $("#_fvlexternalPack").addClass("hide");
                $("#_tgetExternalPack").removeClass("hide");
            }
            else {
                $("#_tvlexternalPack").addClass("hide");
                $("#_fgetExternalPack").addClass("hide");
                $("#_fvlexternalPack").addClass("hide");
                $("#_tgetExternalPack").addClass("hide");
            }
            if (_vlzinternalPackId != "0" && _vlxinternalPack.trim() != false) {
                $("#_tvlinternalPack").removeClass("hide");
                $("#_fgetInternalPack").addClass("hide");
                $("#_fvlinternalPack").addClass("hide");
                $("#_tgetInternalPack").removeClass("hide");
            }
            else {
                $("#_tvlinternalPack").addClass("hide");
                $("#_fgetInternalPack").addClass("hide");
                $("#_fvlinternalPack").addClass("hide");
                $("#_tgetInternalPack").addClass("hide");
            }
            if (_vlzcontentUnitsId != "0" && _vlxcontentUnits.trim() != false) {
                $("#_tvlcontentUnits").removeClass("hide");
                $("#_fgetContentUnits").addClass("hide");
                $("#_fvlcontentUnits").addClass("hide");
                $("#_tgetContentUnits").removeClass("hide");
            }
            else {
                $("#_tvlcontentUnits").addClass("hide");
                $("#_fgetContentUnits").addClass("hide");
                $("#_fvlcontentUnits").addClass("hide");
                $("#_tgetContentUnits").addClass("hide");
            }
            if (_vlzweightUnitsId != "0" && _vlxweightUnits.trim() != false) {
                $("#_tvlweightUnits").removeClass("hide");
                $("#_fgetWeightUnits").addClass("hide");
                $("#_fvlweightUnits").addClass("hide");
                $("#_tgetWeightUnits").removeClass("hide");
            }
            else {
                $("#_tvlweightUnits").addClass("hide");
                $("#_fgetWeightUnits").addClass("hide");
                $("#_fvlweightUnits").addClass("hide");
                $("#_tgetWeightUnits").addClass("hide");
            }
            if (_vlxexternalPack == "") {
                _vlxexternalPack = "0";
            }
            if (_vlxinternalPack == "") {
                _vlxinternalPack = "0";
            }
            if (_vlxcontentUnits == "") {
                _vlxcontentUnits = "0";
            }
            if (_vlxweightUnits == "") {
                _vlxweightUnits = "0";
            }
            var dataform = new FormData();
            dataform.append("File400", _getfile400);
            dataform.append("File384", _getfile384);
            dataform.append("File320", _getfile320);
            dataform.append("EditionId", _vlxeditionId)
            dataform.append("DivisionId", _vlxdivisionId)
            dataform.append("ProductId", _vlxproductId)
            dataform.append("CategoryId", _vlxcategoryId)
            dataform.append("PharmaFormId", _vlxpharmaFormId)
            dataform.append("QtyExternalPack", _vlxexternalPack)
            dataform.append("ExternalPackId", _vlzexternalPackId)
            dataform.append("QtyInternalPack", _vlxinternalPack)
            dataform.append("InternalPackId", _vlzinternalPackId)
            dataform.append("QtyContentUnit", _vlxcontentUnits)
            dataform.append("ContentUnitId", _vlzcontentUnitsId)
            dataform.append("QtyWeightUnit", _vlxweightUnits)
            dataform.append("WeightUnitId", _vlzweightUnitsId)
            $.ajax({
                type: "POST",
                url: '@Url.Content("~/Production/AddPresentation")',
                data: dataform,
                dataType: 'json',
                contentType: false,
                processData: false,
                success: function (response) {
                    $.each(response, function (index, item) {
                        if (item.QtyExternalPack == null) {
                            item.QtyExternalPack = "";
                        }
                        if (item.ExternalPackName == null) {
                            item.ExternalPackName = "";
                        }
                        if (item.QtyInternalPack == null) {
                            item.QtyInternalPack = "";
                        }
                        if (item.InternalPackName == null) {
                            item.InternalPackName = "";
                        }
                        if (item.QtyContentUnit == null) {
                            item.QtyContentUnit = "";
                        }
                        if (item.ContentUnitName == null) {
                            item.ContentUnitName = "";
                        }
                        if (item.QtyWeightUnit == null) {
                            item.QtyWeightUnit = "";
                        }
                        if (item.WeightUnitName == null) {
                            item.WeightUnitName = "";
                        }
                        if (item.View != null) {
                            item.View = "<button onclick='_viewPresentation($(this))' class='btn btn-default btn-sm loading'>"
                                      + "<span class='glyphicon glyphiconr glyphicon glyphicon-picture'>"
                                      + "</span>Ver</button>";
                        }
                        else {
                            item.View = "";
                        }
                        $("#_elementPresentation tbody").append(
                            "<tr>"
                            + "<td style='vertical-align:middle' align='center'>" + item.QtyExternalPack + "</td>"
                            + "<td style='vertical-align:middle' align='center'>" + item.ExternalPackName + "</td>"
                            + "<td style='vertical-align:middle' align='center'>" + item.QtyInternalPack + "</td>"
                            + "<td style='vertical-align:middle' align='center'>" + item.InternalPackName + "</td>"
                            + "<td style='vertical-align:middle' align='center'>" + item.QtyContentUnit + "</td>"
                            + "<td style='vertical-align:middle' align='center'>" + item.ContentUnitName + "</td>"
                            + "<td style='vertical-align:middle' align='center'>" + item.QtyWeightUnit + "</td>"
                            + "<td style='vertical-align:middle' align='center'>" + item.WeightUnitName + "</td>"
                            + "<td id='_vlxpresentation' style='vertical-align:middle' align='center'>" + item.Presentation + "</td>"
                            + "<td style='vertical-align:middle' align='center'>" + "<input id='_vlproductImageId' type='hidden' value='" + item.ProductImageId + "'>" + item.View + "</td>"
                            + "<td style='vertical-align:middle' align='center'>"
                            + "<button onclick='_vlepresentation($(this))' data-toggle='modal' data-target='._vlmpresentation' class='btn btn-default  btn-sm loading'>"
                            + "<i class='glyphicon glyphicon-pencil'>"
                            + "</i>"
                            + "</button>"
                            + "</td>"
                            + "<td style='vertical-align:middle' align='center'>" + "<input id='_vlpresentationId' type='hidden' value='" + item.PresentationId + "'>"
                            + "<button onclick='_vldpresentation($(this))' class='btn btn-danger btn-sm loading'>"
                            + "<i class='glyphicon glyphicon-remove'>"
                            + "</i>"
                            + "</td>"
                            + "</tr>"
                            );
                    });
                    $("#_tvlexternalPack").addClass("hide");
                    $("#_fvlexternalPack").addClass("hide");
                    $("#_fgetExternalPack").addClass("hide");
                    $("#_tgetExternalPack").addClass("hide");
                    $("#_tvlinternalPack").addClass("hide");
                    $("#_fgetInternalPack").addClass("hide");
                    $("#_fvlinternalPack").addClass("hide");
                    $("#_tgetInternalPack").addClass("hide");
                    $("#_tvlcontentUnits").addClass("hide");
                    $("#_fgetContentUnits").addClass("hide");
                    $("#_fvlcontentUnits").addClass("hide");
                    $("#_tgetContentUnits").addClass("hide");
                    $("#_tvlweightUnits").addClass("hide");
                    $("#_fgetWeightUnits").addClass("hide");
                    $("#_fvlweightUnits").addClass("hide");
                    $("#_tgetWeightUnits").addClass("hide");
                    $('#_getExternalPack  option[value="0').prop("selected", true);
                    $('#_getInternalPack  option[value="0').prop("selected", true);
                    $('#_getContentUnits  option[value="0').prop("selected", true);
                    $('#_getWeightUnits  option[value="0').prop("selected", true);
                    $("#_vlexternalPack").val("");
                    $("#_vlinternalPack").val("");
                    $("#_vlcontentUnits").val("");
                    $("#_vlweightUnits").val("");
                    $("#File400").fileinput('clear')
                    $("#File384").fileinput('clear')
                    $("#File320").fileinput('clear')
                    swal({ title: "¡Cambios guardados!", type: "success", text: "", timer: 1000, });
                },
                cache: false,
                contentType: false,
                processData: false
            });
        }
    }
</script>
@*Closes the modal window in which the user adds a new presentation*@
<script>
    function _vlclosep(item) {
        $("._modalPresentation").addClass("modal-wide");
        $("._modalPresentation").removeClass("modalLeft");
        $('._modalAddPresentation').modal('hide');
        $("#File400").fileinput('clear')
        $("#File384").fileinput('clear')
        $("#File320").fileinput('clear')
        $("#_tvlexternalPack").addClass("hide");
        $("#_fvlexternalPack").addClass("hide");
        $("#_fgetExternalPack").addClass("hide");
        $("#_tgetExternalPack").addClass("hide");
        $("#_tvlinternalPack").addClass("hide");
        $("#_fgetInternalPack").addClass("hide");
        $("#_fvlinternalPack").addClass("hide");
        $("#_tgetInternalPack").addClass("hide");
        $("#_tvlcontentUnits").addClass("hide");
        $("#_fgetContentUnits").addClass("hide");
        $("#_fvlcontentUnits").addClass("hide");
        $("#_tgetContentUnits").addClass("hide");
        $("#_tvlweightUnits").addClass("hide");
        $("#_fgetWeightUnits").addClass("hide");
        $("#_fvlweightUnits").addClass("hide");
        $("#_tgetWeightUnits").addClass("hide");
    }
</script>
@*Deletes the selected presentation, including the images that are associated with it*@
<script>
    function _vldpresentation(item) {
        var tr = $(item).parents("tr:first");
        var _vldeditionId = $("#_editionId").val();
        var _vlddivisionId = _vlpositionp.find("#_divisionId").val();
        var _vldproductId = _vlpositionp.find("#_productId").val();
        var _vldcategoryId = _vlpositionp.find("#_categoryId").val();
        var _vldpharmaFormId = _vlpositionp.find("#_pharmaFormId").val();
        var _vldpresentationId = tr.find("#_vlpresentationId").val();
        var _getPresentation = tr.find("#_vlxpresentation").text();
        swal({
            title: '¿Desea eliminar la presentación ' + '"' + _getPresentation + '"' + '?',
            text: "Esto implica que todo lo relacionado a ella se eliminará",
            type: "warning",
            showCancelButton: true,
            cancelButtonText: "Cancelar",
            confirmButtonColor: "#DD6B55",
            confirmButtonText: "Aceptar",
            closeOnConfirm: false
        },
        function () {
            $.ajax({
                type: "POST",
                dataType: "json",
                url: "@Url.Content("~/Production/deletePresentation")",
                traditional: true,
                data: {
                    ProductId: _vldproductId,
                    PharmaFormId: _vldpharmaFormId,
                    Categoryid: _vldcategoryId,
                    DivisionId: _vlddivisionId,
                    EditionId: _vldeditionId,
                    PresentationId: _vldpresentationId
                },
                success: function (data) {
                    tr.remove();
                    $("._modalAddPresentation").modal("hide");
                    $("._modalImages").modal('hide');
                    $("._modalPresentation").addClass("modal-wide");
                    $("._modalPresentation").removeClass("modalLeft");
                    swal({ title: "¡Presentación eliminada!", type: "success", text: "", timer: 1000, });
                }
            });
        });
    }
</script>
@*Modal window showing the image sizes associated with the selected presentation*@
<script>
    var _positionproductImageId;
    function _viewPresentation(item) {
        $('html').css('overflow', 'hidden');
        var tr = $(item).parents("tr:first");
        _positionproductImageId = tr;
        var _vlproductImageId = tr.find("#_vlproductImageId").val();
        var _txtproductName = $("#_vproductName").text();
        var _txtpharmaceuticalForm = $("#_vpharmaceuticalForm").text();
        var _txtcategoryName = $("#_vcategoryName").text();
        var _txtPresentation = tr.find("#_vlxpresentation").text();
        $("#_ilproductName").empty();
        $("#_ilproductName").append(_txtproductName);
        $("#_ilpharmaceuticalForm").empty();
        $("#_ilpharmaceuticalForm").append(_txtpharmaceuticalForm);
        $("#_ilcategoryName").empty();
        $("#_ilcategoryName").append(_txtcategoryName);
        $("#_ilpresentation").empty();
        $("#_ilpresentation").append(_txtPresentation);
        $("._modalPresentation").removeClass("modal-wide");
        $("._modalPresentation").addClass("modalLeft");
        $("._modalAddPresentation").modal("hide");
        $("._modalImages").addClass("overflowModal");
        $("._modalImages").modal("show");
        $("._modalImages").modal("show");
        // imgOne
        $("#_srcOneImg").removeClass("hide");
        $("#_oneDiv").addClass("hide");
        $("#_oneCancel").addClass("hide");
        $("#_oneDelete").addClass("hide");
        $("#_onePlus").addClass("hide");
        $("#_oneChange").addClass("hide");
        $("#_brOnetxt").addClass("hide");
        $("#_plusOnetxt").addClass("hide");
        $("#_oneImgName").removeClass("hide");
        $("#_oneFile").fileinput('clear');
        $("#_oneCancelchange").addClass("hide");
        $("#_brNexMsg").removeClass("hide");
        // imgtwO
        $("#_srctwOimg").removeClass("hide");
        $("#_twOdiv").addClass("hide");
        $("#_twOcancel").addClass("hide");
        $("#_twOdelete").addClass("hide");
        $("#_twOplus").addClass("hide");
        $("#_twOchange").addClass("hide");
        $("#_brtwOtxt").addClass("hide");
        $("#_plustwOtxt").addClass("hide");
        $("#_twOimgName").removeClass("hide");
        $("#_twOfile").fileinput('clear');
        $("#_twOcancelChange").addClass("hide");
        $("#_brNexMsgtwO").removeClass("hide");
        // imgfwO
        $("#_srcfwOimg").removeClass("hide");
        $("#_fwOdiv").addClass("hide");
        $("#_fwOcancel").addClass("hide");
        $("#_fwOdelete").addClass("hide");
        $("#_fwOplus").addClass("hide");
        $("#_fwOchange").addClass("hide");
        $("#_brfwOtxt").addClass("hide");
        $("#_plusfwOtxt").addClass("hide");
        $("#_fwOimgName").removeClass("hide");
        $("#_fwOfile").fileinput('clear');
        $("#_fwOcancelChange").addClass("hide");
        $("#_brNexMsgfwO").removeClass("hide");
        $.ajax({
            type: "POST",
            dataType: "json",
            url: "@Url.Content("~/Production/oneProductImages")",
            traditional: true,
            data: {
                ProductImageId: _vlproductImageId,
            },
            success: function (data) {
                var baseSrc = '@Url.Content("~/")';
                $.each(data, function (index, item) {
                    $("#_ilImageName").empty();
                    $("#_ilImageName").append(item.ProductImageName)
                    if (item.Exist == "Exist") {
                        $("#_oneDelete").removeClass("hide");
                        $("#_oneChange").removeClass("hide");
                        $("#_oneImgName").empty();
                        $("#_oneImgName").append("Imagen: " + "<i style='color:#de5246'>" + item.ProductImageName + "</i>");
                        $("#_srcOneImg").removeAttr("src");
                        $("#_srcOneImg").attr("src", "" + baseSrc + "ProductImages/320x480/" + item.ProductImageName + "");
                    }
                    else if (item.Exist == "NotFiles") {
                        $("#_oneDelete").removeClass("hide");
                        $("#_oneChange").removeClass("hide");
                        $("#_oneImgName").empty();
                        $("#_oneImgName").append("Imagen: " + "<i style='color:#de5246'>" + item.ProductImageName + "</i>");
                        $("#_srcOneImg").attr("src", "" + baseSrc + "Images/errorImg.png");
                    }
                    else if (item.Exist == "NotExist") {
                        $("#_brafterImg").addClass("hide");
                        $("#_oneImgName").empty();
                        $("#_oneImgName").append("Sin imagen");
                        $("#_onePlus").removeClass("hide");
                        $("#_srcOneImg").attr("src", "" + baseSrc + "Images/320.png");
                    }
                });
            },
        });
        $.ajax({
            type: "POST",
            dataType: "json",
            url: "@Url.Content("~/Production/twoProductImages")",
            traditional: true,
            data: {
                ProductImageId: _vlproductImageId,
            },
            success: function (data) {
                var baseSrc = '@Url.Content("~/")';
                $.each(data, function (index, item) {
                    $("#_ilImageName").empty();
                    $("#_ilImageName").append(item.ProductImageName)
                    if (item.Exist == "Exist") {
                        $("#_twOdelete").removeClass("hide");
                        $("#_twOchange").removeClass("hide");
                        $("#_twOimgName").empty();
                        $("#_twOimgName").append("Imagen: " + "<i style='color:#de5246'>" + item.ProductImageName + "</i>");
                        $("#_srctwOimg").removeAttr("src");
                        $("#_srctwOimg").attr("src", "" + baseSrc + "ProductImages/384x512/" + item.ProductImageName + "");
                    }
                    else if (item.Exist == "NotFiles") {
                        $("#_twOdelete").removeClass("hide");
                        $("#_twOchange").removeClass("hide");
                        $("#_twOimgName").empty();
                        $("#_twOimgName").append("Imagen: " + "<i style='color:#de5246'>" + item.ProductImageName + "</i>");
                        $("#_srctwOimg").attr("src", "" + baseSrc + "Images/errorImg.png");
                    }
                    else if (item.Exist == "NotExist") {
                        $("#_brafterImgtwO").addClass("hide");
                        $("#_twOimgName").empty();
                        $("#_twOimgName").append("Sin imagen");
                        $("#_twOplus").removeClass("hide");
                        $("#_srctwOimg").attr("src", "" + baseSrc + "Images/384.png");
                    }
                });
            },
        });
        $.ajax({
            type: "POST",
            dataType: "json",
            url: "@Url.Content("~/Production/threeProductImages")",
            traditional: true,
            data: {
                ProductImageId: _vlproductImageId,
            },
            success: function (data) {
                var baseSrc = '@Url.Content("~/")';
                $.each(data, function (index, item) {
                    $("#_ilImageName").empty();
                    $("#_ilImageName").append(item.ProductImageName)
                    if (item.Exist == "Exist") {
                        $("#_fwOdelete").removeClass("hide");
                        $("#_fwOchange").removeClass("hide");
                        $("#_fwOimgName").empty();
                        $("#_fwOimgName").append("Imagen: " + "<i style='color:#de5246'>" + item.ProductImageName + "</i>");
                        $("#_srcfwOimg").removeAttr("src");
                        $("#_srcfwOimg").attr("src", "" + baseSrc + "ProductImages/400x400/" + item.ProductImageName + "");
                    }
                    else if (item.Exist == "NotFiles") {
                        $("#_fwOdelete").removeClass("hide");
                        $("#_fwOchange").removeClass("hide");
                        $("#_fwOimgName").empty();
                        $("#_fwOimgName").append("Imagen: " + "<i style='color:#de5246'>" + item.ProductImageName + "</i>");
                        $("#_srcfwOimg").attr("src", "" + baseSrc + "Images/errorImg.png");
                    }
                    else if (item.Exist == "NotExist") {
                        $("#_brafterImgfwO").addClass("hide");
                        $("#_fwOimgName").empty();
                        $("#_fwOimgName").append("Sin imagen");
                        $("#_fwOplus").removeClass("hide");
                        $("#_srcfwOimg").attr("src", "" + baseSrc + "Images/400.png");
                    }
                });
            },
        });
    }
</script>
<script>
    $(document).on('click', '._swOneFile', function () {
        var _imageId = _positionproductImageId.find("#_vlproductImageId").val();
        var _oneFile = document.getElementById("_oneFile").files[0];
        var _vlOneData = new FormData();
        if (_oneFile == null) {
            swal({ title: "¡Atención!", type: "error", text: "Debe cargar una imagen" });
        }
        else {
            _vlOneData.append("_oneFile", _oneFile);
            _vlOneData.append("ProductImageId", _imageId);
            $.ajax({
                type: "POST",
                url: '@Url.Content("~/Production/saveOneProductImage")',
                data: _vlOneData,
                dataType: 'json',
                contentType: false,
                processData: false,
                success: function (response) {
                    var baseSrc = '@Url.Content("~/")';
                    $.each(response, function (index, item) {
                        $("#_oneDelete").removeClass("hide");
                        // Disable Add Image Button
                        $("#_onePlus").addClass("hide");
                        // Displays the makeover button
                        $("#_oneChange").removeClass("hide");
                        // Clear the <span> tag name of the image
                        $("#_ilImageName").empty();
                        // Add the name of the updated image
                        $("#_ilImageName").append(item.ProductImageName);
                        // Add the name of the updated image
                        $("#_oneImgName").removeClass("hide");
                        // Clear image name
                        $("#_oneImgName").empty();
                        // Add the updated image name
                        $("#_oneImgName").append("Imagen: " + "<i style='color:#de5246'>" + item.ProductImageName + "</i>");
                        var _getElement = $("#_twOimgName").text();
                        if (_getElement != "Sin imagen") {
                            // Displays the tag of the image name
                            $("#_twOimgName").removeClass("hide");
                            // Clear image name
                            $("#_twOimgName").empty();
                            // Add the updated image name
                            $("#_twOimgName").append("Imagen: " + "<i style='color:#de5246'>" + item.ProductImageName + "</i>");
                        }
                        var _getThreeElement = $("#_fwOimgName").text();
                        if (_getThreeElement != "Sin imagen") {
                            // Displays the tag of the image name
                            $("#_fwOimgName").removeClass("hide");
                            // Clear image name
                            $("#_fwOimgName").empty();
                            // Add the updated image name
                            $("#_fwOimgName").append("Imagen: " + "<i style='color:#de5246'>" + item.ProductImageName + "</i>");
                        }
                        // Removes the src parameter from the selected image
                        $("#_srcOneImg").removeAttr("src");
                        // Adds the updated src parameter of the new image
                        $("#_srcOneImg").attr("src", "" + baseSrc + "ProductImages/320x480/" + item.ProductImageName + "");
                    });
                    $("#_brOnetxt").addClass("hide");
                    // Hide the <div> tag where you are in input
                    $("#_oneDiv").addClass("hide");
                    // Clears the <input> tag of the aggregate image
                    $("#_oneFile").fileinput('clear')
                    // Show image tag
                    $("#_srcOneImg").removeClass("hide");
                    // Disable the add image button
                    $("#_plusOnetxt").addClass("hide");
                    // Disable cancel button
                    $("#_oneCancel").addClass("hide");
                    // Disable cancel button for changes
                    $("#_oneCancelchange").addClass("hide");
                    // Enable br
                    $("#_brImage").removeClass("hide");
                    // Enable br
                    $("#_brNexMsg").removeClass("hide");
                    // Displays save message
                    $("#_brafterImg").addClass("hide");
                    swal({ title: "¡Cambios guardados!", type: "success", text: "", timer: 1000, });
                },
                error: function (error) {
                    swal({ title: "¡Error!", type: "error", text: "Ocurrio un problema al cargar la imagen, intentelo nuevamente", });
                }
            });
        }
    });
</script>
<script>
    function _wOneDelete(item) {
        var _vldImageId = _positionproductImageId.find("#_vlproductImageId").val();
        swal({
            title: '¿Desea eliminar el tamaño de imagen 320 x 480?',
            text: "",
            type: "warning",
            showCancelButton: true,
            cancelButtonText: "Cancelar",
            confirmButtonColor: "#DD6B55",
            confirmButtonText: "Aceptar",
            closeOnConfirm: false
        },
       function () {
           $.ajax({
               type: "POST",
               dataType: "json",
               url: "@Url.Content("~/Production/deleteOneProductImage")",
               traditional: true,
               data: {
                   ProductImageId: _vldImageId,
               },
               success: function (data) {
                   var baseSrc = '@Url.Content("~/")';
                   $("#_oneImgName").empty();
                   $("#_oneImgName").append("Sin imagen");
                   $("#_oneChange").addClass("hide");
                   $("#_oneDelete").addClass("hide");
                   $("#_srcOneImg").removeAttr("src");
                   $("#_onePlus").removeClass("hide");
                   $("#_brafterImg").addClass("hide");
                   $("#_srcOneImg").attr("src", "" + baseSrc + "Images/320.png");
                   swal({ title: "¡Cambios guardados!", type: "success", text: "", timer: 1000, });
               }
           });
       });
    }
</script>
<script>
    $(document).on('click', '._swtwOfile', function () {
        var _imageId = _positionproductImageId.find("#_vlproductImageId").val();
        var _twOfile = document.getElementById("_twOfile").files[0];
        var _vltwOdata = new FormData();
        if (_twOfile == null) {
            swal({ title: "¡Atención!", type: "error", text: "Debe cargar una imagen" });
        }
        else {
            _vltwOdata.append("_twOfile", _twOfile);
            _vltwOdata.append("ProductImageId", _imageId);
            $.ajax({
                type: "POST",
                url: '@Url.Content("~/Production/saveTwoProductImage")',
                data: _vltwOdata,
                dataType: 'json',
                contentType: false,
                processData: false,
                success: function (response) {
                    var baseSrc = '@Url.Content("~/")';
                    $.each(response, function (index, item) {
                        $("#_twOdelete").removeClass("hide");
                        $("#_twOplus").addClass("hide");
                        $("#_twOchange").removeClass("hide");
                        $("#_ilImageName").empty();
                        $("#_ilImageName").append(item.ProductImageName);
                        var _getElement = $("#_oneImgName").text();
                        if (_getElement != "Sin imagen")
                        {
                            $("#_oneImgName").removeClass("hide");
                            $("#_oneImgName").empty();
                            $("#_oneImgName").append("Imagen: " + "<i style='color:#de5246'>" + item.ProductImageName + "</i>");
                        }
                        var _getThreeElement = $("#_fwOimgName").text();
                        if (_getThreeElement != "Sin imagen")
                        {
                            $("#_fwOimgName").removeClass("hide");
                            $("#_fwOimgName").empty();
                            $("#_fwOimgName").append("Imagen: " + "<i style='color:#de5246'>" + item.ProductImageName + "</i>");
                        }
                        $("#_twOimgName").removeClass("hide");
                        $("#_twOimgName").empty();
                        $("#_twOimgName").append("Imagen: " + "<i style='color:#de5246'>" + item.ProductImageName + "</i>");
                        $("#_srctwOimg").removeAttr("src");
                        $("#_srctwOimg").attr("src", "" + baseSrc + "ProductImages/384x512/" + item.ProductImageName + "");
                    });
                    $("#_brtwOtxt").addClass("hide");
                    $("#_twOdiv").addClass("hide");
                    $("#_twOfile").fileinput('clear')
                    $("#_srctwOimg").removeClass("hide");
                    $("#_plustwOtxt").addClass("hide");
                    $("#_twOcancel").addClass("hide");
                    $("#_twOcancelChange").addClass("hide");
                    $("#_brImagetwO").removeClass("hide");
                    $("#_brNexMsgtwO").removeClass("hide");
                    $("#_brafterImgtwO").addClass("hide");
                    swal({ title: "¡Cambios guardados!", type: "success", text: "", timer: 1000, });
                },
                error: function (error) {
                    swal({ title: "¡Error!", type: "error", text: "Ocurrio un problema al cargar la imagen, intentelo nuevamente", });
                }
            });
        }
    });
</script>
<script>
    function _wtwOdelete(item) {
        var _vldImageId = _positionproductImageId.find("#_vlproductImageId").val();
        swal({
            title: '¿Desea eliminar el tamaño de imagen 384 x 512?',
            text: "",
            type: "warning",
            showCancelButton: true,
            cancelButtonText: "Cancelar",
            confirmButtonColor: "#DD6B55",
            confirmButtonText: "Aceptar",
            closeOnConfirm: false
        },
        function () {
            $.ajax({
                type: "POST",
                dataType: "json",
                url: "@Url.Content("~/Production/deletetwOProductImage")",
                traditional: true,
                data: {
                    ProductImageId: _vldImageId,
                },
                success: function (data) {
                    var baseSrc = '@Url.Content("~/")';
                    $("#_twOimgName").empty();
                    $("#_twOimgName").append("Sin imagen");
                    $("#_twOchange").addClass("hide");
                    $("#_twOdelete").addClass("hide");
                    $("#_twOplus").removeClass("hide");
                    $("#_brafterImgtwO").addClass("hide");
                    $("#_srctwOimg").removeAttr("src");
                    $("#_srctwOimg").attr("src", "" + baseSrc + "Images/384.png");
                    swal({ title: "¡Cambios guardados!", type: "success", text: "", timer: 1000, });
                }
            });
        });
    }
</script>
<script>
    $(document).on('click', '._swfwOfile', function () {
        var _imageId = _positionproductImageId.find("#_vlproductImageId").val();
        var _fwOfile = document.getElementById("_fwOfile").files[0];
        var _vlfwOdata = new FormData();
        if (_twOfile == null) {
            swal({ title: "¡Atención!", type: "error", text: "Debe cargar una imagen" });
        }
        else {
            _vlfwOdata.append("_fwOfile", _fwOfile);
            _vlfwOdata.append("ProductImageId", _imageId);
            $.ajax({
                type: "POST",
                url: '@Url.Content("~/Production/saveThreeProductImage")',
                data: _vlfwOdata,
                dataType: 'json',
                contentType: false,
                processData: false,
                success: function (response) {
                    var baseSrc = '@Url.Content("~/")';
                    $.each(response, function (index, item) {
                        $("#_fwOdelete").removeClass("hide");
                        $("#_fwOplus").addClass("hide");
                        $("#_fwOchange").removeClass("hide");
                        $("#_ilImageName").empty();
                        $("#_ilImageName").append(item.ProductImageName);
                        var _getElement = $("#_oneImgName").text();
                        if (_getElement != "Sin imagen") {
                            $("#_oneImgName").removeClass("hide");
                            $("#_oneImgName").empty();
                            $("#_oneImgName").append("Imagen: " + "<i style='color:#de5246'>" + item.ProductImageName + "</i>");
                        }
                        var _gettwOelement = $("#_twOimgName").text();
                        if (_gettwOelement != "Sin imagen") {
                            $("#_twOimgName").removeClass("hide");
                            $("#_twOimgName").empty();
                            $("#_twOimgName").append("Imagen: " + "<i style='color:#de5246'>" + item.ProductImageName + "</i>");
                        }
                        $("#_fwOimgName").removeClass("hide");
                        $("#_fwOimgName").empty();
                        $("#_fwOimgName").append("Imagen: " + "<i style='color:#de5246'>" + item.ProductImageName + "</i>");
                        $("#_srcfwOimg").removeAttr("src");
                        $("#_srcfwOimg").attr("src", "" + baseSrc + "ProductImages/400x400/" + item.ProductImageName + "");
                    });
                    $("#_brfwOtxt").addClass("hide");
                    $("#_fwOdiv").addClass("hide");
                    $("#_fwOfile").fileinput('clear')
                    $("#_srcfwOimg").removeClass("hide");
                    $("#_plusfwOtxt").addClass("hide");
                    $("#_fwOcancel").addClass("hide");
                    $("#_fwOcancelChange").addClass("hide");
                    $("#_brImagefwO").removeClass("hide");
                    $("#_brNexMsgfwO").removeClass("hide");
                    $("#_brafterImgfwO").addClass("hide");
                    swal({ title: "¡Cambios guardados!", type: "success", text: "", timer: 1000, });
                },
                error: function (error) {
                    swal({ title: "¡Error!", type: "error", text: "Ocurrio un problema al cargar la imagen, intentelo nuevamente", });
                }
            });
        }
    });
</script>
<script>
    function _wfwOdelete(item) {
        var _vldImageId = _positionproductImageId.find("#_vlproductImageId").val();
        swal({
            title: '¿Desea eliminar el tamaño de imagen 400 x 400?',
            text: "",
            type: "warning",
            showCancelButton: true,
            cancelButtonText: "Cancelar",
            confirmButtonColor: "#DD6B55",
            confirmButtonText: "Aceptar",
            closeOnConfirm: false
        },
        function () {
            $.ajax({
                type: "POST",
                dataType: "json",
                url: "@Url.Content("~/Production/deleteThreeProductImage")",
                traditional: true,
                data: {
                    ProductImageId: _vldImageId,
                },
                success: function (data) {
                    var baseSrc = '@Url.Content("~/")';
                    $("#_fwOimgName").empty();
                    $("#_fwOimgName").append("Sin imagen");
                    $("#_fwOchange").addClass("hide");
                    $("#_fwOdelete").addClass("hide");
                    $("#_fwOplus").removeClass("hide");
                    $("#_brafterImgfwO").addClass("hide");
                    $("#_srcfwOimg").removeAttr("src");
                    $("#_srcfwOimg").attr("src", "" + baseSrc + "Images/400.png");
                    swal({ title: "¡Cambios guardados!", type: "success", text: "", timer: 1000, });
                }
            });
        });
    }
</script>
@*320 x 480 image _wOneplus*@
<script>
    function _wOneplus(item) {
        $("#_onePlus").addClass("hide");
        $("#_oneChange").addClass("hide");
        $("#_srcOneImg").addClass("hide");
        $("#_oneDiv").removeClass("hide");
        $("#_oneCancel").removeClass("hide");
        $("#_brOnetxt").removeClass("hide");
        $("#_plusOnetxt").removeClass("hide");
        $("#_plusOnetxt").empty();
        $("#_plusOnetxt").append("Agregue una imagen");
        $("#_oneImgName").addClass("hide");
        $("#_brImage").addClass("hide");
        $("#_brafterImg").removeClass("hide");
        $("#_brNexMsg").addClass("hide");
    }
</script>
@*320 x 480 image _wOneCancel*@
<script>
    function _wOneCancel(item) {
        $("#_onePlus").removeClass("hide");
        $("#_srcOneImg").removeClass("hide");
        $("#_oneDiv").addClass("hide");
        $("#_oneCancel").addClass("hide");
        $("#_brOnetxt").addClass("hide");
        $("#_plusOnetxt").addClass("hide");
        $("#_oneImgName").removeClass("hide");
        $("#_oneFile").fileinput('clear')
        $("#_brImage").removeClass("hide");
        $("#_brafterImg").addClass("hide");
        $("#_brNexMsg").removeClass("hide");
    }
</script>
@*320 x 480 image _wOneCancelChange*@
<script>
    function _wOneCancelChange(item) {
        $("#_onePlus").addClass("hide");
        $("#_oneChange").removeClass("hide");
        $("#_srcOneImg").removeClass("hide");
        $("#_oneDiv").addClass("hide");
        $("#_oneCancel").addClass("hide");
        $("#_oneCancelchange").addClass("hide");
        $("#_brOnetxt").addClass("hide");
        $("#_plusOnetxt").addClass("hide");
        $("#_oneImgName").removeClass("hide");
        $("#_oneFile").fileinput('clear')
        $("#_brImage").removeClass("hide");
        $("#_oneDelete").removeClass("hide");
        $("#_brafterImg").addClass("hide");
        $("#_brNexMsg").removeClass("hide");
    }
</script>
@*320 x 480 image _wOneChange*@
<script>
    function _wOneChange(item) {
        $("#_onePlus").addClass("hide");
        $("#_oneChange").addClass("hide");
        $("#_srcOneImg").addClass("hide");
        $("#_oneDiv").removeClass("hide");
        $("#_oneCancel").addClass("hide");
        $("#_oneCancelchange").removeClass("hide");
        $("#_brOnetxt").removeClass("hide");
        $("#_plusOnetxt").removeClass("hide");
        $("#_plusOnetxt").empty();
        $("#_plusOnetxt").append("Cambie la imagen");
        $("#_oneImgName").addClass("hide");
        $("#_brImage").addClass("hide");
        $("#_oneDelete").addClass("hide");
        $("#_brafterImg").removeClass("hide");
        $("#_brNexMsg").addClass("hide");
    }
</script>
@*384 x 512 image _wtwOplus*@
<script>
    function _wtwOplus(item) {
        $("#_twOplus").addClass("hide");
        $("#_twOchange").addClass("hide");
        $("#_srctwOimg").addClass("hide");
        $("#_twOdiv").removeClass("hide");
        $("#_twOcancel").removeClass("hide");
        $("#_brtwOtxt").removeClass("hide");
        $("#_plustwOtxt").removeClass("hide");
        $("#_plustwOtxt").empty();
        $("#_plustwOtxt").append("Agregue una imagen");
        $("#_twOimgName").addClass("hide");
        $("#_brImagetwO").addClass("hide");
        $("#_brafterImgtwO").removeClass("hide");
        $("#_brNexMsgtwO").addClass("hide");
    }
</script>
@*384 x 512 image _wtwOcancel*@
<script>
    function _wtwOcancel(item) {
        $("#_twOplus").removeClass("hide");
        $("#_srctwOimg").removeClass("hide");
        $("#_twOdiv").addClass("hide");
        $("#_twOcancel").addClass("hide");
        $("#_brtwOtxt").addClass("hide");
        $("#_plustwOtxt").addClass("hide");
        $("#_twOimgName").removeClass("hide");
        $("#_twOfile").fileinput('clear')
        $("#_brImagetwO").removeClass("hide");
        $("#_brafterImgtwO").addClass("hide");
        $("#_brNexMsgtwO").removeClass("hide");
    }
</script>
@*384 x 512 image _wtwOcancelChange*@
<script>
    function _wtwOcancelChange(item) {
        $("#_twOplus").addClass("hide");
        $("#_twOchange").removeClass("hide");
        $("#_srctwOimg").removeClass("hide");
        $("#_twOdiv").addClass("hide");
        $("#_twOcancel").addClass("hide");
        $("#_twOcancelChange").addClass("hide");
        $("#_brtwOtxt").addClass("hide");
        $("#_plustwOtxt").addClass("hide");
        $("#_twOimgName").removeClass("hide");
        $("#_twOfile").fileinput('clear')
        $("#_brImagetwO").removeClass("hide");
        $("#_twOdelete").removeClass("hide");
        $("#_brafterImgtwO").addClass("hide");
        $("#_brNexMsgtwO").removeClass("hide");
    }
</script>
@*384 x 512 image _wtwOchange*@
<script>
    function _wtwOchange(item) {
        $("#_twOplus").addClass("hide");
        $("#_twOchange").addClass("hide");
        $("#_srctwOimg").addClass("hide");
        $("#_twOdiv").removeClass("hide");
        $("#_twOcancel").addClass("hide");
        $("#_twOcancelChange").removeClass("hide");
        $("#_brtwOtxt").removeClass("hide");
        $("#_plustwOtxt").removeClass("hide");
        $("#_plustwOtxt").empty();
        $("#_plustwOtxt").append("Cambie la imagen");
        $("#_twOimgName").addClass("hide");
        $("#_brImagetwO").addClass("hide");
        $("#_twOdelete").addClass("hide");
        $("#_brafterImgtwO").removeClass("hide");
        $("#_brNexMsgtwO").addClass("hide");
    }
</script>
@*400 x 400 image _wfwOplus*@
<script>
    function _wfwOplus(item) {
        $("#_fwOplus").addClass("hide");
        $("#_fwOchange").addClass("hide");
        $("#_srcfwOimg").addClass("hide");
        $("#_fwOdiv").removeClass("hide");
        $("#_fwOcancel").removeClass("hide");
        $("#_brfwOtxt").removeClass("hide");
        $("#_plusfwOtxt").removeClass("hide");
        $("#_plusfwOtxt").empty();
        $("#_plusfwOtxt").append("Agregue una imagen");
        $("#_fwOimgName").addClass("hide");
        $("#_brImagefwO").addClass("hide");
        $("#_brafterImgfwO").removeClass("hide");
        $("#_brNexMsgfwO").addClass("hide");
    }
</script>
@*400 x 400 image _wfwOcancel*@
<script>
    function _wfwOcancel(item) {
        $("#_fwOplus").removeClass("hide");
        $("#_srcfwOimg").removeClass("hide");
        $("#_fwOdiv").addClass("hide");
        $("#_fwOcancel").addClass("hide");
        $("#_brfwOtxt").addClass("hide");
        $("#_plusfwOtxt").addClass("hide");
        $("#_fwOimgName").removeClass("hide");
        $("#_fwOfile").fileinput('clear')
        $("#_brImagefwO").removeClass("hide");
        $("#_brafterImgfwO").addClass("hide");
        $("#_brNexMsgfwO").removeClass("hide");
    }
</script>
@*400 x 400 image _wfwOcancelChange*@
<script>
    function _wfwOcancelChange(item) {
        $("#_fwOplus").addClass("hide");
        $("#_fwOchange").removeClass("hide");
        $("#_srcfwOimg").removeClass("hide");
        $("#_fwOdiv").addClass("hide");
        $("#_fwOcancel").addClass("hide");
        $("#_fwOcancelChange").addClass("hide");
        $("#_brfwOtxt").addClass("hide");
        $("#_plusfwOtxt").addClass("hide");
        $("#_fwOimgName").removeClass("hide");
        $("#_fwOfile").fileinput('clear')
        $("#_brImagefwO").removeClass("hide");
        $("#_fwOdelete").removeClass("hide");
        $("#_brafterImgfwO").addClass("hide");
        $("#_brNexMsgfwO").removeClass("hide");
    }
</script>
@*400 x 400 image _wfwOcancelChange*@
<script>
    function _wfwOchange(item) {
        $("#_fwOplus").addClass("hide");
        $("#_fwOchange").addClass("hide");
        $("#_srcfwOimg").addClass("hide");
        $("#_fwOdiv").removeClass("hide");
        $("#_fwOcancel").addClass("hide");
        $("#_fwOcancelChange").removeClass("hide");
        $("#_brfwOtxt").removeClass("hide");
        $("#_plusfwOtxt").removeClass("hide");
        $("#_plusfwOtxt").empty();
        $("#_plusfwOtxt").append("Cambie la imagen");
        $("#_fwOimgName").addClass("hide");
        $("#_brImagefwO").addClass("hide");
        $("#_fwOdelete").addClass("hide");
        $("#_brafterImgfwO").removeClass("hide");
        $("#_brNexMsgfwO").addClass("hide");
    }
</script>
<script>
    function _vlcloseImages(item) {
        $("._modalPresentation").addClass("modal-wide");
        $("._modalPresentation").removeClass("modalLeft");
        $('._modalImages').modal('hide');
    }
</script>

<script>
    $(document).ready(function () {
        $('#_charEdition').keyup(function () {
            var valThis = $(this).val().toLowerCase();
            $('.searchEdition').each(function () {
                var text = $(this).text().toLowerCase();
                (text.indexOf(valThis) == 0) ? $(this).show() : $(this).hide();
            });
        });
    });
</script>
<script>
    $(document).ready(function () {
        $('#_charLab').keyup(function () {
            var valThis = $(this).val().toLowerCase();
            $('.searchLab').each(function () {
                var text = $(this).text().toLowerCase();
                (text.indexOf(valThis) == 0) ? $(this).show() : $(this).hide();
            });
        });
    });
</script>
<script>
    $(document).ready(function () {
        $(".report").click(function () {
            swal({
                imageUrl: "@Url.Content("~/Images/generando.gif")",
                title: "Generando Excel...",
                text: "Se descargará el archivo automáticamente.",
                timer: 3000,
            });
        });
    });
</script>






<div class="row col-md-10">
    <div class="headergroup">
        <div class="title">
            <div class="title-word" style="font-weight:normal; text-transform:none">Medinet <span style="color:#de5347">v3.0</span></div>
            <div class="title-word" style="font-weight:normal; text-transform:none;"><strong style="color:#000000;">Producción</strong> | Laboratorios y productos</div>
        </div>
    </div>
    <br />
    <nav style="background: rgba(233, 233, 233, 0.11); border-radius: 10px;" class="navbar navbar-default">
        <div style="margin-left: 15px;" class="container-fluid">
            <div class="navbar-header">
                <input type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                <span class="sr-only">Toggle navigation</span>
                @{

                    CountriesUsers _CountriesUsers = (CountriesUsers)Session["CountriesUsers"];
                    if (_CountriesUsers.country.LongCount() >= 1)
                    {
                        <a href="@Url.Content("~/Production1/Index")" class="btn navbar-brand zindex" title="Filtros">
                            <i style="color:#b3dca1" class="glyphicon glyphicon-bookmark"></i>
                        </a>
                    }
                    else
                    {
                        <a href="@Url.Content("~/Production/FilterIndex/" + _Session.id)" class="btn navbar-brand zindex" title="Filtros">
                            <i style="color:#b3dca1" class="glyphicon glyphicon-bookmark"></i>
                        </a>
                    }
                }
            </div>
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav hov">
                    <li style="background: rgba(233, 233, 233, 0.01);" class="dropdown navbar-default hov">
                        <a class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Ediciones<span style="margin-left: 5px; color: black; " class="caret"></span></a>
                        <ul style="border-radius:10px;" class="dropdown-menu vertical" role="menu">
                            <li style="margin-top:-5px;">
                                <div id="custom-search-input">
                                    <div class="input-group col-md-11">
                                        <input id="_charEdition" type="text" class="form-control" placeholder="Buscar" />
                                    </div>
                                </div>
                            </li>
                            <li><p></p></li>
                            @{
                                var _getEditions = (from _e in db.Editions
                                                    where _e.BookId == _Session.ed
                                                    && _e.CountryId == _Session.id
                                                    orderby _e.NumberEdition descending
                                                    select _e).ToList();
                                foreach (var _row in _getEditions)
                                {
                                    <li class="searchEdition"><a class="zindex" href="@Url.Content("~/Production1/Content/" + @_row.CountryId + "/" + @_Session.ed + "/" + _row.EditionId + "/" + @_Session.ud)">@_row.NumberEdition</a></li>
                                }
                            }
                        </ul>
                    </li>
                </ul>
                <ul class="nav navbar-nav hov">
                    <li style="background: rgba(233, 233, 233, 0.01);" class="dropdown navbar-default hov">
                        <a class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Laboratorios<span style="margin-left: 5px; color: black; " class="caret"></span></a>
                        <ul style="border-radius:10px;" class="dropdown-menu vertical" role="menu">
                            <li style="margin-top:-5px;">
                                <div id="custom-search-input">
                                    <div class="input-group col-md-11">
                                        <input id="_charLab" type="text" class="form-control" placeholder="Buscar" />
                                    </div>
                                </div>
                            </li>
                            <li><p></p></li>
                            @{
                                var _getDivisions = db.Database.SqlQuery<plm_spGetDivisionsByEditionByCountry_Result>("plm_spGetDivisionsByEditionByCountry @countryId=" + _Session.id + ",@editionId=" + _Session.ad).ToList();
                                foreach (var _row in _getDivisions)
                                {
                                    <li class="searchLab"><a class="zindex" href="@Url.Content("~/Production1/Content/" + @_row.CountryId + "/" + @_Session.ed + "/" + @_Session.ad + "/" + @_row.DivisionId)">@_row.DivisionName</a></li>
                                }
                            }
                        </ul>
                    </li>
                </ul>
                <ul class="nav navbar-nav hov">
                    <li style="background: rgba(233, 233, 233, 0.01);" class="dropdown navbar-default hov">
                        <a class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Exportar productos<span style="margin-left: 5px; color: black" class="caret"></span></a>
                        <ul style="border-radius:10px;" class="dropdown-menu" role="menu">
                            <li><a href="@Url.Content("~/Sales/ExcelProductsByEdition/" + @_Session.id + "/" + @_Session.ed + "/" + @_Session.ad + "/" + @_Session.ud + "/" + @_CountriesUsersSales.userId)" class="report"><span class="glyphicon glyphiconr glyphicon glyphicon-export text-success"></span>Exportar a Excel</a></li>
                        </ul>
                    </li>
                </ul>
                @{
                    var _editionType = (from _e in db.Editions
                                        join _et in db.EditionTypes
                                            on _e.EditionTypeId equals _et.EditionTypeId
                                        where _e.EditionId == _Session.ad
                                        select new { _et.TypeName }).ToList();
                    ViewData["TypeName"] = _editionType.FirstOrDefault().TypeName;
                    if (_editionType.FirstOrDefault().TypeName == "IMPRESO")
                    {
                        <ul class="nav navbar-nav hov">
                            <li style="background: rgba(233, 233, 233, 0.01);" class="dropdown navbar-default hov">
                                <a class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Paginación<span style="margin-left: 5px; color: black" class="caret"></span></a>
                                <ul style="border-radius:10px;" class="dropdown-menu" role="menu">
                                    <li><a href="@Url.Content("~/Production/Pagination/" + _Session.id + "/" + _Session.ed + "/" + _Session.ad)" class="zindex"><span class="glyphiconr glyphicon glyphicon-sort-by-order-alt" style="color: #de5145;"></span>Paginar @ViewData["ShortName"] @ViewData["EditionNumber"]</a></li>
                                </ul>
                            </li>
                        </ul>
                    }
                }
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a class="btn navbar-brand" title="Anterior" onclick="history.back();">
                            <i style="color:#324887" class="glyphicon glyphicon-arrow-left"></i>
                        </a>
                        <a class="btn navbar-brand" title="Siguiente" onclick="history.forward();">
                            <i style="color:#324887;" class="glyphicon glyphicon-arrow-right"></i>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <div class="qa-message-list col-md-12 col-xs-12" id="wallmessages">
        <div class="message-item" id="m16">
            <div class="message-inner">
                <div class="avatar pull-left"></div>
                <div class="user-detail">
                    <div class="post-meta">
                        <div class="asker-meta">
                            <div class="title_new" align="left">
                                <div class="title-word_new">
                                    <p>
                                        <span class="qa-message-when-data" style="font-size:16px; text-transform:none; font-weight:normal;">País: <span style="color: #de5145">@ViewData["CountryName"]</span> </span>
                                    </p>
                                </div>
                            </div>
                            <div class="title_new" align="left">
                                <div class="title-word_new">
                                    <p>
                                        <span class="qa-message-when-data" style="font-size:16px; text-transform:none; font-weight:normal;">Obra: <span style="color: #de5145">@ViewData["BookName"]</span> </span>
                                    </p>
                                </div>
                            </div>
                            <div class="title_new" align="left">
                                <div class="title-word_new">
                                    <p>
                                        <span class="qa-message-when-data" style="font-size:16px; text-transform:none; font-weight:normal;">Edición: <span style="color: #de5145">@ViewData["EditionNumber"]</span> </span>
                                    </p>
                                </div>
                            </div>
                            <div class="title_new" align="left">
                                <div class="title-word_new">
                                    <p>
                                        <span class="qa-message-when-data" style="font-size:16px; text-transform:none; font-weight:normal;">Versión: <span style="color: #de5145">@ViewData["TypeName"]</span> </span>
                                    </p>
                                </div>
                            </div>
                            <div class="title_new">
                                <div class="title-word_new">
                                    <p>
                                        <span class="qa-message-when-data" style="font-size: 16px; text-transform: none; font-weight: normal;">Laboratorio: <span style="color: #de5145; ">@ViewData["DivisionName"]</span></span>
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div style="width:0;" class="col-md-1"></div>
<div class="row col-md-2">
    <div class="title_new">
        <div class="title-word_new">
            <div class="image-container" align="center">
                @{
                    var _getImg = (from _d in db.DivisionImages
                                   where _d.DivisionId == _Session.ud
                                   select _d).ToList();
                    if (_getImg.LongCount() != 0)
                    {
                        foreach (var _row in _getImg)
                        {
                            string _fullPath = Request.MapPath("~/DivisionImages/" + _row.ImageName);
                            if (System.IO.File.Exists(_fullPath))
                            {
                                <img id="_srcImage" src="@Url.Content("~/DivisionImages/" + _row.ImageName)" class="img-responsive" alt="Logo">
                                <br />
                                <span id="_notLogo" style="font-size:15px; text-transform:none">@_row.ImageName</span>
                            }
                            else
                            {
                                <img id="_srcImage" src="@Url.Content("~/Images/sinLogo.gif")" class="img-responsive" alt="Logo">
                                <br />
                                <span id="_notLogo" style="font-size:15px; text-transform:none">No se encontro el logo</span>
                            }
                            <input type="hidden" id="_vllogoName" value="@_row.ImageName" />
                        }
                        <div class="details">
                            <hr>
                            <button id="_chargeLogo" onclick="_createLogo($(this))" data-toggle="modal" data-target="._modalLogo" class="btn btn-default btn-sm loading hide"><span class="glyphicon glyphiconr glyphicon glyphicon-picture"></span>Cargar logo</button>
                            <button id="_changeLogo" onclick="_changeLogo($(this))" data-toggle="modal" data-target="._modalLogo" class="btn btn-default btn-sm loading"><span class="glyphicon glyphiconr glyphicon-picture"></span>Cambiar</button>
                            <button id="_deleteLogo" onclick="_deleteLogo($(this))" class="btn btn-danger btn-sm loading"><span class="glyphicon glyphiconr glyphicon-remove"></span>Eliminar</button>
                        </div>
                    }
                    else
                    {
                        <img id="_srcImage" src="@Url.Content("~/Images/sinLogo.gif")" class="img-responsive" alt="avatar">
                        <br />
                        <span id="_notLogo" style="font-size:15px; text-transform:none">Sin logo</span>
                        <div class="details">
                            <hr>
                            <button id="_chargeLogo" onclick="_createLogo($(this))" data-toggle="modal" data-target="._modalLogo" class="btn btn-default btn-sm loading"><span class="glyphicon glyphiconr glyphicon glyphicon-picture"></span>Cargar logo</button>
                            <button id="_changeLogo" onclick="_changeLogo($(this))" data-toggle="modal" data-target="._modalLogo" class="btn btn-default btn-sm loading hide"><span class="glyphicon glyphiconr glyphicon glyphicon-picture"></span>Cambiar</button>
                            <button id="_deleteLogo" onclick="_deleteLogo($(this))" class="btn btn-danger btn-sm loading hide"><span class="glyphicon glyphiconr glyphicon-remove"></span>Eliminar</button>
                        </div>
                    }
                }
            </div>
        </div>
    </div>
</div>

<div class="row col-md-12" align="center">
    <span class="Titles">Productos</span>
</div>
<script src="~/Scripts/DataTables/jqueryDataTablesProducts.js"></script>
<script src="~/Scripts/DataTables/dataTables.scroller.min.js"></script>
<script src="~/Scripts/DataTables/dataTables.bootstrap.js"></script>
<link href="~/Content/DataTables/css/dataTables.bootstrap.css" rel="stylesheet" />

<script>
    $(document).ready(function () {
        $(document).ready(function () {
            $('#example').dataTable({
                "columnDefs": [{ "searchable": false, "targets": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11] }],
                "language": {
                    "lengthMenu": "<div class='col-md-3 title_filter'>" +
                        "<div class='title-word' style='font-weight:normal; text-transform:none; font-size:17px;'> Mostrar <select class='form-control input-sm'> </div>" +
                      '<option value="10">10</option>' +
                      '<option value="20">20</option>' +
                      '<option value="30">30</option>' +
                      '<option value="40">40</option>' +
                      '<option value="50">50</option>' +
                      '<option value="-1">Todo</option>' +
                      '</select> productos' + '</div>'
                }
            });
        });
    });
</script>
<input type="hidden" id="_countryId" value="@_Session.id" />
<input type="hidden" id="_bookId" value="@_Session.ed" />
<input type="hidden" id="_editionId" value="@_Session.ad" />
<input type="hidden" id="_divisionId" value="@_Session.ud" />
<input type="hidden" id="_iduser" value="@_CountriesUsersSales.userId" />
<input type="hidden" id="_appId" value="@AppId" />
<input type="hidden" id="_haskey" value="@HasKey" />


<div class="row col-md-12 table-responsive">
    <table style="font-size:13px;" id="example" class="display table table-bordered table-hover" cellspacing="0">
        <thead>
            <tr style=" box-shadow: 0 1px 6px rgba(0, 0, 0, 0.1);">
                <td align="center" style="vertical-align:middle" class="tdback">Producto</td>
                <td align="center" style="vertical-align:middle" class="tdback">Forma farmaceútica</td>
                <td align="center" style="vertical-align:middle" class="tdback">Categoría</td>
                <td align="center" style="vertical-align:middle" class="tdback">Descripción</td>
                <td align="center" style="vertical-align:middle" class="tdback">Tipo de producto</td>
                <td align="center" style="vertical-align:middle" class="tdback">Ediciónes</td>
                <td align="center" style="vertical-align:middle" class="tdback">Nuevo</td>
                <td align="center" style="vertical-align:middle" class="tdback">Con cambios</td>
                <td align="center" style="vertical-align:middle" class="tdback">Rubros</td>
                <td align="center" style="vertical-align:middle" class="tdback">Cambio ortográfico</td>
                <td width="100" align="center" style="vertical-align:middle" class="tdback">Registro sanitario</td>
                <td width="70" align="center" style="vertical-align:middle" class="tdback">Fracción cofepris</td>
                <td align="center" style="vertical-align:middle" class="tdback">Presentación</td>
            </tr>
        </thead>
        <tbody>
            @{
                foreach (var _row in Model)
                {
                    if(_row.Participant == 1 )
                    {
                         <tr>
                        <td style="vertical-align:middle" align="center"><span id="_productName">@_row.Brand</span> <input type="hidden" id="_divisionId" value="@_row.DivisionId" /> <input type="hidden" id="_productId" value="@_row.ProductId" /></td>
                        <td style="vertical-align:middle" align="center"><span id="_pharmaceuticalForm">@_row.PharmaForm</span>  <input type="hidden" id="_pharmaFormId" value="@_row.PharmaFormId" /></td>
                        <td style="vertical-align:middle" align="center"><span id="_categoryName">@_row.CategoryName</span> <input type="hidden" id="_categoryId" value="@_row.CategoryId" /></td>
                        <td style="vertical-align:middle" align="center">@_row.ProductDescription</td>
                        <td style="vertical-align:middle" align="center">@_row.ProductType</td>
                        <td style="vertical-align:middle" align="center"><a onclick="_getParticipant($(this))" data-toggle="modal" data-target="._modalParticipant" class="btn btn-primary  btn-sm loading"><span class="glyphicon glyphicon-indent-right"></span></a></td>
                        @*Nuevo*@
                        <td align="center">
                           @{
                              var NewProduct = _row.NewProduct;
                              if (NewProduct > 0)
                               {
                                  <input checked id="_new" onclick="_new($(this))" class="true" type="checkbox" />
                               }
                              else
                               {
                                  <input id="_new" onclick="_new($(this))" class="true" type="checkbox" />
                               }

                            }
                        </td>
                        @{
                          if (_row.HTMLContent == null || _row.HTMLContent == "null")
                            {
                                <td align="center" style="vertical-align:middle"><span style="color:#c4473d">Sin Contenido</span></td>
                                <td align="center" style="vertical-align:middle"><span style="color:#c4473d">Sin contenido</span></td>
                                <td align="center" style="vertical-align:middle"><span style="color:#c4473d">Sin contenido</span></td>
                            }
                            else
                            {
                            @*Cambio fondos*@
                    <td align="center">
                        @{
                                byte ContentTypeId = ct_cf[0].ContentTypeId;
                                var CTIdcf = _row.ModifiedContent;
                                bool _modified_cf = false;
                                if (CTIdcf == ContentTypeId)
                                {
                                    _modified_cf = true;
                                }
                                <input type="checkbox" checked="@_modified_cf" id="_changes" onclick="_changes($(this))" value="@ContentTypeId" />
                          }         
                         </td>
                            @*Cambio fondos*@
                    <td align="center">
                        @{
                                byte ContentTypeId2 = ct_cf[0].ContentTypeId;
                                var CTIdcf2 = _row.ModifiedContent;
                                bool _modified_cf2 = false;
                                if (CTIdcf == ContentTypeId)
                                {
                                    <button id="_btnChanges" onclick="_getItem($(this))" data-toggle="modal" data-target="._modalItem" class="btn btn-default  btn-sm loading"><i class="glyphicon glyphicon glyphicon glyphicon-check"></i></button>
                
                                }
                                else
                                {
                                    <button id="_btnChanges" onclick="_getItem($(this))" data-toggle="modal" data-target="._modalItem" class="btn btn-default hide btn-sm loading"><i class="glyphicon glyphicon glyphicon glyphicon-check"></i></button>
                                }
                          }         
                         </td>
                    @*Cambio ortográfico*@
                    <td align="center">
                        @{
                                byte ContentTypeIdd = ct_co[0].ContentTypeId;
                                var CTId = _row.ModifiedContent;
                                bool _modified_co = false;
                                if (CTId == ContentTypeIdd)
                                {
                                    _modified_co = true;
                                }
                                <input type="checkbox" checked="@_modified_co" id="_chargeOrthographic" onclick="_chargeOrthographic($(this))" value="@ContentTypeIdd" />
                        }
                            </td>
                            }
                        }


                        @*Registro Sanitario*@
                        
                        <td style="vertical-align:middle" align="right">
                            @{
                                if (_row.SanitaryRegister == null)
                                {
                                  <span id="_sanitaryRegister" style="margin-right:10px;"></span><button id="_plusRegister" onclick="_plusRegister($(this))" data-toggle="modal" data-target="._modalSanitary" class="btn btn-success  btn-sm loading"><i class="glyphicon glyphicon-plus"></i></button>
                                  <button id="_pencilRegister" onclick="_vlgetsanitary($(this))" data-toggle="modal" data-target="._modalSanitary" class="btn btn-default  btn-sm loading hide"><i class="glyphicon glyphicon-pencil"></i></button>
                                }
                                else
                               {
                                 <span id="_sanitaryRegister" style="margin-right:10px;">@_row.SanitaryRegister</span><button id="_plusRegister" onclick="_plusRegister($(this))" data-toggle="modal" data-target="._modalSanitary" class="btn btn-success  btn-sm loading hide"><i class="glyphicon glyphicon-plus"></i></button>
                                 <button id="_pencilRegister" onclick="_vlgetsanitary($(this))" data-toggle="modal" data-target="._modalSanitary" class="btn btn-default  btn-sm loading"><i class="glyphicon glyphicon-pencil"></i></button>
                               }
                            }
                        </td>
                        @*COFEPRIS*@
                        <td style="vertical-align:middle" align="right">
                            @{
                               if (_row.SSFraction == null)
                               {
                                 <span id="_fraction" style="margin-right:10px;"></span><button id="_plusFraction" onclick="_vlgetFraction($(this))" data-toggle="modal" data-target="._modalFraction" class="btn btn-success  btn-sm loading"><i class="glyphicon glyphicon-plus"></i></button>
                                 <button id="_fractionPencil" onclick="_fractionPencil($(this))" data-toggle="modal" data-target="._modalFraction" class="btn btn-default  btn-sm loading hide"><i class="glyphicon glyphicon-pencil"></i></button>
                               }
                              else
                               {
                                <span id="_fraction" style="margin-right:10px;">@_row.SSFraction</span><button id="_plusFraction" onclick="_vlgetFraction($(this))" data-toggle="modal" data-target="._modalFraction" class="btn btn-success  btn-sm loading hide"><i class="glyphicon glyphicon-plus"></i></button>
                                <button id="_fractionPencil" onclick="_fractionPencil($(this))" data-toggle="modal" data-target="._modalFraction" class="btn btn-default  btn-sm loading"><i class="glyphicon glyphicon-pencil"></i></button>
                               }
                            }
                        </td>
                        <td style="vertical-align:middle" align="center"><a onclick="_getPresentation($(this))" data-toggle="modal" data-target="._modalPresentation" class="btn btn-danger btn-sm loading"><span class="glyphicon glyphicon-picture"></span></a></td>
                     </tr>
                    }
                   
                }
            }
        </tbody>
    </table>
</div>
<br />

@*Modal Ediciones participantes*@
<div class="modal fade _modalParticipant" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button onclick="_closeParticipant($(this))" type="button" class="close"><span aria-hidden="true">&times;</span></button>
                <h4 style="font-size:18px;" class="modal-title" id="myModalLabel" align="center"> <span>Ediciones</span></h4>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div style="padding-top:30px;" class="qa-message-list col-md-8" id=" wallmessages">
                        <div class="message-item" id="m16">
                            <div class="message-inner">
                                <div class="avatar pull-left"></div>
                                <div class="user-detail">
                                    <p style="padding-left:18px;">
                                        <span class="qa-message-when-data" style="font-size: 16px; text-transform: none; font-weight: normal;">Producto: <span id="_wlproductName" style="color: #de5145;"></span></span>
                                    </p>
                                    <p style="padding-left:18px;">
                                        <span class="qa-message-when-data" style="font-size: 16px; text-transform: none; font-weight: normal;">Forma farmacéutica: <span id="_wlpharmaceuticalForm" style="color: #de5145;"></span></span>
                                    </p>
                                    <p style="padding-left:18px;">
                                        <span class="qa-message-when-data" style="font-size: 16px; text-transform: none; font-weight: normal;">Categoría: <span id="_wlcategoryName" style="color: #de5145;"></span></span>
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class=" col-md-3">
                        <div class="image-container" align="center">
                            <img src="@Url.Content("~/Images/ediciones.gif")" class="img-responsive" alt="avatar">
                        </div>
                    </div>
                    <div class="col-md-1"></div>
                </div>
                <div align="center">
                    <span style="font-size:18px;">Participaciones</span>
                </div>
                <br />
                <div id="_dvparticipant" class="table-responsive">
                    <table id="_elementTable" class="table table-bordered table-hover">
                        <thead>
                            <tr style=" box-shadow: 0 1px 6px rgba(0, 0, 0, 0.1);">
                                <td class="tdback">Obra</td>
                                <td class="tdback">Edición</td>
                                <td class="tdback">Tipo de edición</td>
                                <td class="tdback">Versión</td>
                                <td class="tdback">Obra de la que emana</td>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>
            <div class="modal-footer" align="center">
                <div align="center">
                    <button onclick="_closeParticipant($(this))" type="button" class="btn btn-danger">Cerrar</button>
                </div>
            </div>
        </div>
    </div>
</div>
@*Modal Registro sanitario Agregar/Editar*@
<div class="modal fade _modalSanitary" tabindex="-1" role="dialog" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 style="font-size:18px;" class="modal-title" id="myModalLabel" align="center"> <span>Registro sanitario</span></h4>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div style="padding-top:18px;" class="qa-message-list col-md-8" id="wallmessages">
                        <div class="message-item" id="m16">
                            <div class="message-inner">
                                <div class="avatar pull-left"></div>
                                <div class="user-detail">
                                    <p style="padding-left:18px;">
                                        <span class="qa-message-when-data" style="font-size: 16px; text-transform: none; font-weight: normal;">Producto: <span id="_rlproductName" style="color: #de5145;"></span></span>
                                    </p>
                                    <p style="padding-left:18px;">
                                        <span class="qa-message-when-data" style="font-size: 16px; text-transform: none; font-weight: normal;">Forma farmacéutica: <span id="_rlpharmaceuticalForm" style="color: #de5145;"></span></span>
                                    </p>
                                    <p style="padding-left:18px;">
                                        <span class="qa-message-when-data" style="font-size: 16px; text-transform: none; font-weight: normal;">Categoría: <span id="_rlcategoryName" style="color: #de5145;"></span></span>
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class=" col-md-3">
                        <div class="image-container" align="center">
                            <img src="@Url.Content("~/Images/registro.gif")" class="img-responsive" alt="avatar">
                        </div>
                    </div>
                    <div class="col-md-1"></div>
                </div>
                <div align="center">
                    <span id="_vlmessageRegister" style="font-size:18px;"></span>
                </div>
                <br />
                <div class="input-group col-md-4 col-xs-4 center">
                    <input id="_vlsetSanitary" type="text" class="form-control">
                </div>
            </div>
            <div align="center">
                <button id="_vlsaveRegister" onclick="_vlsaveRegister($(this))" class="btn btn-default"><span class="glyphicon glyphiconr glyphicon glyphicon-floppy-disk"></span>Guardar</button>
                <button id="_vladdRegister" onclick="_vlsaveRegister($(this))" class="btn btn-success"><span class="glyphicon glyphiconr glyphicon glyphicon-plus"></span>Agregar</button>
                <button type="button" class="btn btn-danger" data-dismiss="modal">Cancelar</button>
            </div>
            <br />
        </div>
    </div>
</div>
@*Modal Fracción Cofepris Agregar/Editar*@
<div class="modal fade _modalFraction" tabindex="-1" role="dialog" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 style="font-size:18px;" class="modal-title" id="myModalLabel" align="center"> <span>Fracción Cofepris</span></h4>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div style="padding-top:18px;" class="qa-message-list col-md-8" id="wallmessages">
                        <div class="message-item" id="m16">
                            <div class="message-inner">
                                <div class="avatar pull-left"></div>
                                <div class="user-detail">
                                    <p style="padding-left:18px;">
                                        <span class="qa-message-when-data" style="font-size: 16px; text-transform: none; font-weight: normal;">Producto: <span id="_fproductName" style="color: #de5145;"></span></span>
                                    </p>
                                    <p style="padding-left:18px;">
                                        <span class="qa-message-when-data" style="font-size: 16px; text-transform: none; font-weight: normal;">Forma farmacéutica: <span id="_fpharmaceuticalForm" style="color: #de5145;"></span></span>
                                    </p>
                                    <p style="padding-left:18px;">
                                        <span class="qa-message-when-data" style="font-size: 16px; text-transform: none; font-weight: normal;">Categoría: <span id="_fcategoryName" style="color: #de5145;"></span></span>
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class=" col-md-3">
                        <div class="image-container" align="center">
                            <img src="@Url.Content("~/Images/cofepris.gif")" class="img-responsive" alt="avatar">
                        </div>
                    </div>
                    <div class="col-md-1"></div>
                </div>
                <div align="center">
                    <span id="_messageFraction" style="font-size:18px;"></span>
                </div>
                <br />
                <div class="input-group col-md-4 col-xs-4 center">
                    <input id="_setFraction" type="text" class="form-control">
                </div>
            </div>
            <div align="center">
                <button id="_addFraction" onclick="_saveFraction($(this))" class="btn btn-success"><span class="glyphicon glyphiconr glyphicon glyphicon-plus"></span>Agregar</button>
                <button id="_saveFraction" onclick="_saveFraction($(this))" class="btn btn-default"><span class="glyphicon glyphiconr glyphicon glyphicon-floppy-disk"></span>Guardar</button>
                <button type="button" class="btn btn-danger" data-dismiss="modal">Cancelar</button>
            </div>
            <br />
        </div>
    </div>
</div>
@*Modal Rubros*@
<div class="modal fade _modalItem" tabindex="-1" role="dialog" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button onclick="_closeModal($(this))" type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 style="font-size:18px;" class="modal-title" id="myModalLabel" align="center"> <span>Rubros</span></h4>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div style="padding-top:15px;" class="qa-message-list col-md-8" id="wallmessages">
                        <div class="message-item" id="m16">
                            <div class="message-inner">
                                <div class="avatar pull-left"></div>
                                <div class="user-detail">
                                    <div class="row">
                                        <div>
                                            <p style="padding-left:18px;">
                                                <span class="qa-message-when-data" style="font-size:16px; text-transform:none; font-weight:normal;">País: <span style="color: #de5145">@ViewData["CountryName"]</span> </span>
                                            </p>
                                            <p style="padding-left:18px;">
                                                <span class="qa-message-when-data" style="font-size:16px; text-transform:none; font-weight:normal;">Obra: <span style="color: #de5145">@ViewData["BookName"]</span> </span>
                                            </p>
                                            <p style="padding-left:18px;">
                                                <span class="qa-message-when-data" style="font-size:16px; text-transform:none; font-weight:normal;">Edición: <span style="color: #de5145">@ViewData["EditionNumber"]</span> </span>
                                            </p>
                                            <p style="padding-left:18px;">
                                                <span class="qa-message-when-data" style="font-size: 16px; text-transform: none; font-weight: normal;">Producto: <span id="_itproductName" style="color: #de5145;"></span>&ensp;</span>
                                            </p>
                                            <p style="padding-left:18px;">
                                                <span class="qa-message-when-data" style="font-size: 16px; text-transform: none; font-weight: normal;">Forma farmacéutica: <span id="_itpharmaceuticalForm" style="color: #de5145;"></span>&ensp;</span>
                                            </p>
                                            <p style="padding-left:18px;">
                                                <span class="qa-message-when-data" style="font-size: 16px; text-transform: none; font-weight: normal;">Categoría: <span id="_itcategoryName" style="color: #de5145;"></span>&ensp;</span>
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class=" col-md-3">
                        <div class="image-container" align="center">
                            <img src="@Url.Content("~/Images/ipp.gif")" class="img-responsive" alt="avatar">
                        </div>
                        <div align="center">
                            <hr>
                            <button data-toggle="modal" data-target="._modalIpp" onclick="_showIpp($(this))" class="btn btn-default btn-sm loading"><span class="glyphicon glyphiconr glyphicon-file"></span>Ver Información para prescribir</button>
                        </div>
                    </div>
                    <div class="col-md-1">

                    </div>
                </div>
                <br />
                <br />
                <div class="row table-responsive">
                    <div class="col-md-8">
                        <div align="center">
                            <span id="_messageItem" style="font-size:17px;">Marcar rubros</span>
                        </div>
                        <br />
                        <div style="height:400px; overflow:auto;">
                            <table id="_elementAttributes" style="font-size:13px;" class="table table-bordered">
                                <thead>
                                    <tr style=" box-shadow: 0 1px 6px rgba(0, 0, 0, 0.1);">
                                        <td align="center" class="tdback">Rubros</td>
                                        <td align="center" class="tdback">Marcar</td>
                                    </tr>
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div align="center">
                            <span id="_messageItem" style="font-size:17px;">Rubros con cambios</span>
                        </div>
                        <br />
                        <table style="font-size:13px;" id="_elementItems" class="table table-bordered">
                            <thead>
                                <tr style=" box-shadow: 0 1px 6px rgba(0, 0, 0, 0.1);">
                                    <td align="center" class="tdback">Rubro</td>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div align="center">
                <button onclick="_closeModal($(this))" type="button" class="btn btn-danger" data-dismiss="modal">Cerrar</button>
            </div>
            <br />
        </div>
    </div>
</div>
@*Modal IPP*@
<div class="modal fade _modalIpp modalRight" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button onclick="_closeIpp($(this))" type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 style="font-size:18px;" class="modal-title" id="myModalLabel" align="center"> <span>Información para prescribir</span></h4>
            </div>
            <div class="modal-body">
                <link href="~/Content/ProductContent.css" rel="stylesheet" />
                <div style="height:665px; overflow:auto;">@Html.Raw("<div id='_contentIpp' class='col-md-12'></div>")</div>
                <hr />
            </div>
            <div align="center">
                <button onclick="_closeIpp($(this))" type="button" class="btn btn-danger" data-dismiss="modal">Cerrar</button>
            </div>
            <br />
        </div>
    </div>
</div>
@*Modal Logo de laboratorio*@
<div class="modal fade _modalLogo" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" onclick="_closeLogo($(this))" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 style="font-size:18px;" class="modal-title" id="myModalLabel" align="center"> <span>Logo del laboratorio</span></h4>
            </div>
            <div class="modal-body">
                <div class="qa-message-list col-md-12 col-xs-12" id="wallmessages">
                    <div class="message-item" id="m16">
                        <div class="message-inner">
                            <div class="avatar pull-left"></div>
                            <div class="user-detail">
                                <div class="post-meta">
                                    <div class="asker-meta">
                                        <div class="title_new">
                                            <div class="title-word_new">
                                                <p>
                                                    <span class="qa-message-when-data" style="font-size: 16px; text-transform: none; font-weight: normal;">Laboratorio: <span style="color: #de5145; ">@ViewData["DivisionName"]</span></span>
                                                </p>
                                            </div>
                                        </div>
                                        <div id="_logoName" class="title_new hide" align="left">
                                            <div class="title-word_new">
                                                <p>
                                                    <span class="qa-message-when-data" style="font-size:16px; text-transform:none; font-weight:normal;">Logo: <span id="_setImageName" style="color: #de5145"></span> </span>
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <br />
                <div align="center">
                    <span id="_messageLogo" class="qa-message-when-data" style="font-size:16px; text-transform:none; font-weight:normal;"></span>
                </div>
                <br />
                <div class="row">
                    <div class="col-md-3">
                    </div>
                    <div class="col-md-6">
                        <input id="File" type="file" accept="image/*" class="file-loading">
                        <script>
                            $(document).on('ready', function () {
                                $("#File").fileinput({
                                    showZoom: false,
                                    previewFileType: "image",
                                    browseClass: "btn btn-success",
                                    browseLabel: "Seleccione el logo...",
                                    browseIcon: "<i class=\"glyphicon glyphicon-picture\"></i> ",
                                    removeClass: "btn btn-danger",
                                    removeLabel: "Quitar",
                                    removeIcon: "<i class=\"glyphicon glyphicon-trash\"></i> ",
                                    uploadClass: "btn btn-info _sendFile",
                                    uploadLabel: "Guardar",
                                    uploadIcon: "<i  class=\"glyphicon glyphicon-upload\"></i> "
                                });
                            });
                        </script>
                    </div>
                    <div class="col-md-3">
                    </div>
                </div>
                <br />
            </div>
            <div align="center">
                <button type="button" onclick="_closeLogo($(this))" class="btn btn-danger">Cerrar</button>
            </div>
            <br />
        </div>
    </div>
</div>
@*Modal presentaciones*@
<div class="modal fade _modalPresentation modal-wide" tabindex="-1" role="dialog" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button onclick="_closePresentation($(this))" type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 style="font-size:18px;" class="modal-title" id="myModalLabel" align="center"> <span>Presentación</span></h4>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div style="padding-top:15px;" class="qa-message-list col-md-9" id="wallmessages">
                        <div class="message-item" id="m16">
                            <div class="message-inner">
                                <div class="avatar pull-left"></div>
                                <div class="user-detail">
                                    <div class="row">
                                        <div>
                                            <p style="padding-left:18px;">
                                                <span class="qa-message-when-data" style="font-size: 16px; text-transform: none; font-weight: normal;">Producto: <span id="_vproductName" style="color: #de5145;"></span>&ensp;</span>
                                            </p>
                                            <p style="padding-left:18px;">
                                                <span class="qa-message-when-data" style="font-size: 16px; text-transform: none; font-weight: normal;">Forma farmacéutica: <span id="_vpharmaceuticalForm" style="color: #de5145;"></span>&ensp;</span>
                                            </p>
                                            <p style="padding-left:18px;">
                                                <span class="qa-message-when-data" style="font-size: 16px; text-transform: none; font-weight: normal;">Categoría: <span id="_vcategoryName" style="color: #de5145;"></span>&ensp;</span>
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class=" col-md-2">
                        <div class="image-container" align="center">
                            <img src="@Url.Content("~/Images/presentacion.gif")" class="img-responsive" alt="Presentación">
                        </div>
                    </div>
                    <div class="col-md-1">
                    </div>
                </div>
                <div class="row">
                    <div align="center" class="col-md-9">
                        <span style="font-size:18px;">Presentaciones</span>
                    </div>
                    <div align="left" class="col-md-3">
                        <button onclick="_showaddp($(this))" data-toggle="modal" data-target="._modalAddPresentation" class="btn btn-default btn-sm loading"><span class="glyphicon glyphiconr glyphicon-plus"></span>Agregar presentación</button>
                    </div>
                </div>
                <br />
                <div id="_dvPresentations" class="row col-md-12 table-responsive" align="center">
                    <table id="_elementPresentation" style="font-size:11px;" class="display table table-bordered table-hover" cellspacing="0">
                        <thead>
                            <tr style=" box-shadow: 0 1px 6px rgba(0, 0, 0, 0.1);">
                                <td style="vertical-align:middle" align="center" class="tdback">Cantidad paquete externo</td>
                                <td style="vertical-align:middle" align="center" class="tdback">Paquete externo</td>
                                <td style="vertical-align:middle" align="center" class="tdback">Cantidad paquete interno</td>
                                <td style="vertical-align:middle" align="center" class="tdback">Paquete interno</td>
                                <td style="vertical-align:middle" align="center" class="tdback">Cantidad de producto</td>
                                <td style="vertical-align:middle" align="center" class="tdback">Contenido de producto</td>
                                <td style="vertical-align:middle" align="center" class="tdback">Cantidad de concentración de producto</td>
                                <td style="vertical-align:middle" align="center" class="tdback">Concentración de producto</td>
                                <td style="vertical-align:middle" align="center" class="tdback">Presentación</td>
                                <td style="vertical-align:middle" align="center" class="tdback">Imagen</td>
                                <td style="vertical-align:middle" align="center" class="tdback">Editar</td>
                                <td style="vertical-align:middle" align="center" class="tdback">Eliminar</td>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>
            <div align="center">
                <button onclick="_closePresentation($(this))" type="button" class="btn btn-danger" data-dismiss="modal">Cerrar</button>
            </div>
            <br />
        </div>
    </div>
</div>
@*Modal agregar presentación*@
<div class="modal _modalAddPresentation fade  modalRight" tabindex="-1" role="dialog" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button onclick="_vlclosep($(this))" type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 style="font-size:18px;" class="modal-title" id="myModalLabel" align="center"> <span>Presentación</span></h4>
            </div>
            <div style="height:615px;" class="modal-body table-responsive">
                <div class="row">
                    <div style="padding-top:15px;" class="qa-message-list col-md-9" id="wallmessages">
                        <div class="message-item" id="m16">
                            <div class="message-inner">
                                <div class="avatar pull-left"></div>
                                <div class="user-detail">
                                    <div class="row">
                                        <div>
                                            <p style="padding-left:18px;">
                                                <span class="qa-message-when-data" style="font-size: 16px; text-transform: none; font-weight: normal;">Producto: <span id="_sproductName" style="color: #de5145;"></span>&ensp;</span>
                                            </p>
                                            <p style="padding-left:18px;">
                                                <span class="qa-message-when-data" style="font-size: 16px; text-transform: none; font-weight: normal;">Forma farmacéutica: <span id="_spharmaceuticalForm" style="color: #de5145;"></span>&ensp;</span>
                                            </p>
                                            <p style="padding-left:18px;">
                                                <span class="qa-message-when-data" style="font-size: 16px; text-transform: none; font-weight: normal;">Categoría: <span id="_scategoryName" style="color: #de5145;"></span>&ensp;</span>
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class=" col-md-2">
                        <div style="padding-top:10px;" class="image-container" align="center">
                            <img src="@Url.Content("~/Images/presentacion.gif")" class="img-responsive img-circle" alt="Presentación">
                        </div>
                    </div>
                    <div class="col-md-1">
                    </div>
                </div>
                <div align="center">
                    <span style="font-size:17px;">Agregue una presentación</span>
                </div>
                <hr />
                <div class="name">
                    <span>Cantidad:</span> <input onkeypress='validate(event)' id="_vlexternalPack" type="text" />
                    <span id="_tvlexternalPack" style="padding-left:5px; color:#19a15f" class="glyphicon glyphicon glyphicon-ok hide"></span>
                    <span id="_fvlexternalPack" style="padding-left:5px; color:#de5246" class="glyphicon glyphicon-remove hide"></span>
                    <span style="padding-left:63px;">Empaque externo:</span>
                    <select name="select-choice" id="_getExternalPack"></select>
                    <span id="_tgetExternalPack" style="padding-left:5px; color:#19a15f" class="glyphicon glyphicon glyphicon-ok hide"></span>
                    <span id="_fgetExternalPack" style="padding-left:5px; color:#de5246" class="glyphicon glyphicon-remove hide"></span>
                </div>
                <hr />
                <div class="name">
                    <span></span> Cantidad: <input onkeypress='validate(event)' id="_vlinternalPack" type="text" />
                    <span id="_tvlinternalPack" style="padding-left:5px; color:#19a15f" class="glyphicon glyphicon glyphicon-ok hide"></span>
                    <span id="_fvlinternalPack" style="padding-left:5px; color:#de5246" class="glyphicon glyphicon-remove hide"></span>
                    <span style="padding-left:68px;">Empaque interno:</span>
                    <select name="select-choice" id="_getInternalPack"></select>
                    <span id="_tgetInternalPack" style="padding-left:5px; color:#19a15f" class="glyphicon glyphicon glyphicon-ok hide"></span>
                    <span id="_fgetInternalPack" style="padding-left:5px; color:#de5246" class="glyphicon glyphicon-remove hide"></span>
                </div>
                <hr />
                <div class="name">
                    <span></span> Cantidad: <input onkeypress='validate(event)' id="_vlcontentUnits" type="text" />
                    <span id="_tvlcontentUnits" style="padding-left:5px; color:#19a15f" class="glyphicon glyphicon glyphicon-ok hide"></span>
                    <span id="_fvlcontentUnits" style="padding-left:5px; color:#de5246" class="glyphicon glyphicon-remove hide"></span>
                    <span style="padding-left:27px;">Contenido del producto:</span>
                    <select name="select-choice" id="_getContentUnits"></select>
                    <span id="_tgetContentUnits" style="padding-left:5px; color:#19a15f" class="glyphicon glyphicon glyphicon-ok hide"></span>
                    <span id="_fgetContentUnits" style="padding-left:5px; color:#de5246" class="glyphicon glyphicon-remove hide"></span>
                </div>
                <hr />
                <div class="name">
                    <span></span> Cantidad: <input onkeypress='validate(event)' id="_vlweightUnits" type="text" />
                    <span id="_tvlweightUnits" style="padding-left:5px; color:#19a15f" class="glyphicon glyphicon glyphicon-ok hide"></span>
                    <span id="_fvlweightUnits" style="padding-left:5px; color:#de5246" class="glyphicon glyphicon-remove hide"></span>
                    Concentración del producto:
                    <select name="select-choice" id="_getWeightUnits"></select>
                    <span id="_tgetWeightUnits" style="padding-left:5px; color:#19a15f" class="glyphicon glyphicon glyphicon-ok hide"></span>
                    <span id="_fgetWeightUnits" style="padding-left:5px; color:#de5246" class="glyphicon glyphicon-remove hide"></span>
                </div>
                <hr />
                <div align="center">
                    <span style="font-size:17px;">Imagenes</span>
                </div>
                <hr />
                <div class="row">
                    <div align="center" class="col-md-4">
                        Tamaño <span style="color:#de5246">320 x 480</span>
                        <div style="padding-top:10px;">
                            <input id="File320" type="file" accept="image/*" class="file-loading">
                            <script>
                                $(document).on('ready', function () {
                                    $("#File320").fileinput({
                                        showZoom: false,
                                        previewFileType: "image",
                                        browseClass: "btn btn-default loading",
                                        browseLabel: "Seleccione...",
                                        browseIcon: "<i class=\"glyphicon glyphicon-picture\"></i> ",
                                        removeClass: "btn btn-danger",
                                        removeLabel: "Quitar",
                                        removeIcon: "<i class=\"glyphicon glyphicon-trash\"></i> ",
                                        showUpload: false,
                                    });
                                });
                            </script>
                        </div>
                    </div>
                    <div align="center" class="col-md-4">
                        Tamaño <span style="color:#de5246">384 x 512</span>
                        <div style="padding-top:10px;">
                            <input id="File384" type="file" accept="image/*" class="file-loading">
                            <script>
                                $(document).on('ready', function () {
                                    $("#File384").fileinput({
                                        showZoom: false,
                                        previewFileType: "image",
                                        browseClass: "btn btn-default loading",
                                        browseLabel: "Seleccione...",
                                        browseIcon: "<i class=\"glyphicon glyphicon-picture\"></i> ",
                                        removeClass: "btn btn-danger",
                                        removeLabel: "Quitar",
                                        removeIcon: "<i class=\"glyphicon glyphicon-trash\"></i> ",
                                        showUpload: false,
                                    });
                                });
                            </script>
                        </div>
                    </div>
                    <div align="center" class="col-md-4">
                        Tamaño <span style="color:#de5246">400 x 400</span>
                        <div style="padding-top:10px;">
                            <input id="File400" type="file" accept="image/*" class="file-loading">
                            <script>
                                $(document).on('ready', function () {
                                    $("#File400").fileinput({
                                        allowedFileExtensions: ["jpg", "png", "gif"],
                                        showZoom: false,
                                        previewFileType: "image",
                                        browseClass: "btn btn-default loading",
                                        browseLabel: "Seleccione...",
                                        browseIcon: "<i class=\"glyphicon glyphicon-picture\"></i> ",
                                        removeClass: "btn btn-danger",
                                        removeLabel: "Quitar",
                                        removeIcon: "<i class=\"glyphicon glyphicon-trash\"></i> ",
                                        showUpload: false,
                                    });
                                });
                            </script>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <div align="center">
                    <button onclick="_vladdPresentation($(this))" class="btn btn-success"><i class="glyphicon glyphiconr glyphicon-plus"></i>Agregar</button>
                    <button onclick="_vlclosep($(this))" class="btn btn-danger">Cancelar</button>
                </div>
            </div>
        </div>
    </div>
</div>
@*Imagenes de presentación*@
<div class="modal fade _modalImages modalRight" tabindex="-1" role="dialog" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button onclick="_vlcloseImages($(this))" type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 style="font-size:18px;" class="modal-title" id="myModalLabel" align="center"> <span>Imagenes</span></h4>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div style="padding-top:15px;" class="qa-message-list col-md-8" id="wallmessages">
                        <div class="message-item" id="m16">
                            <div class="message-inner">
                                <div class="avatar pull-left"></div>
                                <div class="user-detail">
                                    <div class="row">
                                        <div>
                                            <p style="padding-left:18px;">
                                                <span class="qa-message-when-data" style="font-size: 16px; text-transform: none; font-weight: normal;">Producto: <span id="_ilproductName" style="color: #de5145;"></span>&ensp;</span>
                                            </p>
                                            <p style="padding-left:18px;">
                                                <span class="qa-message-when-data" style="font-size: 16px; text-transform: none; font-weight: normal;">Forma farmacéutica: <span id="_ilpharmaceuticalForm" style="color: #de5145;"></span>&ensp;</span>
                                            </p>
                                            <p style="padding-left:18px;">
                                                <span class="qa-message-when-data" style="font-size: 16px; text-transform: none; font-weight: normal;">Categoría: <span id="_ilcategoryName" style="color: #de5145;"></span>&ensp;</span>
                                            </p>
                                            <p style="padding-left:18px;">
                                                <span class="qa-message-when-data" style="font-size: 16px; text-transform: none; font-weight: normal;">Presentación: <span id="_ilpresentation" style="color: #de5145;"></span>&ensp;</span>
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class=" col-md-3">
                        <div class="image-container" align="center">
                            <img src="@Url.Content("~/Images/productimages.gif")" class="img-responsive" alt="Presentación">
                        </div>
                    </div>
                    <div class="col-md-1">
                    </div>
                </div>
                <div align="center" class="row">
                    <p style="padding-left:18px;">
                        <span class="qa-message-when-data" style="font-size: 16px; text-transform: none; font-weight: normal;">Imagen: <span id="_ilImageName" style="color: #de5145;"></span>&ensp;</span>
                    </p>
                </div>
                <hr />
                <div class="row">
                    <div align="center">
                        <span style="font-size:18px;">Tamaños</span>
                    </div>
                    <br />
                    <div class='list-group gallery'>
                        <div align="center" class='col-md-4'>
                            <div>
                                <span style="font-size:18px;">320 x 480</span>
                            </div>
                            <br id="_brOnetxt" class="hide" />
                            <div id="_plusOnetxt" style="font-size:18px;">
                            </div>
                            <br id="_brNexMsg" />
                            <div>
                                <img id="_srcOneImg" class="img-responsive" alt="" src="@Url.Content("~/Images/320.png")" />
                            </div>
                            <br id="_brImage" />
                            <div class="table-responsive">
                                <span id="_oneImgName" style="font-size:15px;"></span>
                            </div>
                            <br />
                            <div id="_oneDiv" class="hide">
                                <input id="_oneFile" type="file" accept="image/*" class="file-loading">
                                <script>
                                    $(document).on('ready', function () {
                                        $("#_oneFile").fileinput({
                                            showZoom: false,
                                            previewFileType: "image",
                                            browseClass: "btn btn-success",
                                            browseLabel: "Seleccione...",
                                            browseIcon: "<i class=\"glyphicon glyphicon-picture\"></i> ",
                                            removeClass: "btn btn-danger",
                                            removeLabel: "",
                                            removeIcon: "<i class=\"glyphicon glyphicon-trash\"></i> ",
                                            uploadClass: "btn btn-info _swOneFile",
                                            uploadLabel: "",
                                            uploadIcon: "<i  class=\"glyphicon glyphicon-cloud-upload\"></i> "
                                        });
                                    });
                                </script>
                            </div>
                            <br class="hide" id="_brafterImg" />
                            <button id="_oneCancel" onclick="_wOneCancel($(this))" class="btn btn-danger btn-sm hide"><i class="glyphicon glyphiconr glyphicon-remove"></i>Cancelar</button>
                            <button id="_oneCancelchange" onclick="_wOneCancelChange($(this))" class="btn btn-danger btn-sm hide"><i class="glyphicon glyphiconr glyphicon-remove"></i>Cancelar</button>
                            <button id="_onePlus" onclick="_wOneplus($(this))" class="btn btn-default loading btn-sm hide"><i class="glyphicon glyphiconr glyphicon-plus"></i>Agregar</button>
                            <button id="_oneChange" onclick="_wOneChange($(this))" class="btn btn-default loading btn-sm hide"><i class="glyphicon glyphiconr glyphicon-refresh"></i>Cambiar</button>
                            <button id="_oneDelete" onclick="_wOneDelete($(this))" class="btn btn-danger btn-sm hide"><i class="glyphicon glyphiconr glyphicon-remove"></i>Eliminar</button>
                        </div>
                        <div align="center" class='col-md-4'>
                            <div>
                                <span style="font-size:18px;">384 x 512</span>
                            </div>
                            <br id="_brtwOtxt" class="hide" />
                            <div id="_plustwOtxt" style="font-size:18px;">
                            </div>
                            <br id="_brNexMsgtwO" />
                            <div>
                                <img id="_srctwOimg" class="img-responsive" alt="" src="@Url.Content("~/Images/384.png")" />
                            </div>
                            <br id="_brImagetwO" />
                            <div class="table-responsive">
                                <span id="_twOimgName" style="font-size:15px;"></span>
                            </div>
                            <br />
                            <div id="_twOdiv" class="hide">
                                <input id="_twOfile" type="file" accept="image/*" class="file-loading">
                                <script>
                                    $(document).on('ready', function () {
                                        $("#_twOfile").fileinput({
                                            showZoom: false,
                                            previewFileType: "image",
                                            browseClass: "btn btn-success",
                                            browseLabel: "Seleccione...",
                                            browseIcon: "<i class=\"glyphicon glyphicon-picture\"></i> ",
                                            removeClass: "btn btn-danger",
                                            removeLabel: "",
                                            removeIcon: "<i class=\"glyphicon glyphicon-trash\"></i> ",
                                            uploadClass: "btn btn-info _swtwOfile",
                                            uploadLabel: "",
                                            uploadIcon: "<i class=\"glyphicon glyphicon-cloud-upload\"></i> "
                                        });
                                    });
                                </script>
                            </div>
                            <br class="hide" id="_brafterImgtwO" />
                            <button id="_twOcancel" onclick="_wtwOcancel($(this))" class="btn btn-danger btn-sm hide"><i class="glyphicon glyphiconr glyphicon-remove"></i>Cancelar</button>
                            <button id="_twOcancelChange" onclick="_wtwOcancelChange($(this))" class="btn btn-danger btn-sm hide"><i class="glyphicon glyphiconr glyphicon-remove"></i>Cancelar</button>
                            <button id="_twOplus" onclick="_wtwOplus($(this))" class="btn btn-default loading btn-sm hide"><i class="glyphicon glyphiconr glyphicon-plus"></i>Agregar</button>
                            <button id="_twOchange" onclick="_wtwOchange($(this))" class="btn btn-default loading btn-sm hide"><i class="glyphicon glyphiconr glyphicon-refresh"></i>Cambiar</button>
                            <button id="_twOdelete" onclick="_wtwOdelete($(this))" class="btn btn-danger btn-sm hide"><i class="glyphicon glyphiconr glyphicon-remove"></i>Eliminar</button>
                        </div>
                        <div align="center" class='col-md-4'>
                            <div>
                                <span style="font-size:18px;">400 x 400</span>
                            </div>
                            <br id="_brfwOtxt" class="hide" />
                            <div id="_plusfwOtxt" style="font-size:18px;">
                            </div>
                            <br id="_brNexMsgfwO" />
                            <div>
                                <img id="_srcfwOimg" class="img-responsive" alt="" src="@Url.Content("~/Images/400.png")" />
                            </div>
                            <br id="_brImagefwO" />
                            <div class="table-responsive">
                                <span id="_fwOimgName" style="font-size:15px;"></span>
                            </div>
                            <br />
                            <div id="_fwOdiv" class="hide">
                                <input id="_fwOfile" type="file" accept="image/*" class="file-loading">
                                <script>
                                    $(document).on('ready', function () {
                                        $("#_fwOfile").fileinput({
                                            showZoom: false,
                                            previewFileType: "image",
                                            browseClass: "btn btn-success",
                                            browseLabel: "Seleccione...",
                                            browseIcon: "<i class=\"glyphicon glyphicon-picture\"></i> ",
                                            removeClass: "btn btn-danger",
                                            removeLabel: "",
                                            removeIcon: "<i class=\"glyphicon glyphicon-trash\"></i> ",
                                            uploadClass: "btn btn-info _swfwOfile",
                                            uploadLabel: "",
                                            uploadIcon: "<i class=\"glyphicon glyphicon-cloud-upload\"></i> "
                                        });
                                    });
                                </script>
                            </div>
                            <br class="hide" id="_brafterImgfwO" />
                            <button id="_fwOcancel" onclick="_wfwOcancel($(this))" class="btn btn-danger btn-sm hide"><i class="glyphicon glyphiconr glyphicon-remove"></i>Cancelar</button>
                            <button id="_fwOcancelChange" onclick="_wfwOcancelChange($(this))" class="btn btn-danger btn-sm hide"><i class="glyphicon glyphiconr glyphicon-remove"></i>Cancelar</button>
                            <button id="_fwOplus" onclick="_wfwOplus($(this))" class="btn btn-default loading btn-sm hide"><i class="glyphicon glyphiconr glyphicon-plus"></i>Agregar</button>
                            <button id="_fwOchange" onclick="_wfwOchange($(this))" class="btn btn-default loading btn-sm hide"><i class="glyphicon glyphiconr glyphicon-refresh"></i>Cambiar</button>
                            <button id="_fwOdelete" onclick="_wfwOdelete($(this))" class="btn btn-danger btn-sm hide"><i class="glyphicon glyphiconr glyphicon-remove"></i>Eliminar</button>
                        </div>
                    </div>
                </div>
                <br />
            </div>
            <div align="center">
                <button onclick="_vlcloseImages($(this))" type="button" class="btn btn-danger" data-dismiss="modal">Cerrar</button>
            </div>
            <br />
        </div>
    </div>
</div>